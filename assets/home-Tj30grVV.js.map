{"version":3,"file":"home-Tj30grVV.js","sources":["../../src/pages/admin/group/home.vue"],"sourcesContent":["<template>\n  <!-- 添加租户对话框 -->\n  <EditForm ref=\"editFormRef\" @refresh=\"refreshData\"/>\n  <!-- 搜索菜单部分的过渡效果 -->\n  <transition name=\"fade\">\n    <div class=\"table-com-search\" v-show=\"showSearch\">\n      <el-row :gutter=\"20\">\n        <el-col :span=\"6\">\n          <el-form-item label=\"编号\">\n            <el-input placeholder=\"按编号搜索\" clearable />\n          </el-form-item>\n        </el-col>\n      </el-row>\n\n      <!-- 搜索按钮和重置按钮 -->\n      <el-form :inline=\"true\" class=\"demo-form-inline\">\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"refreshData\">搜索</el-button>\n          <el-button type=\"primary\" @click=\"resetSearchParams\">重置</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </transition>\n\n  <!-- 表头 -->\n  <div class=\"table-header ba-scroll-style\">\n    <!-- 刷新、添加、编辑、删除和导入导出按钮 -->\n    <el-button :icon=\"Refresh\" @click=\"refreshData\"  color=\"#40485b\"/>\n    <el-button type=\"primary\" :icon=\"Plus\" @click=\"openEditFrom\">添加</el-button>\n    <el-button type=\"primary\" disabled>编辑</el-button>\n    <el-button type=\"danger\" @click=\"handleBatchDelete('/api/v1/admin/user/group/delete')\">删除</el-button>\n\n    <!-- 搜索按钮 -->\n    <div class=\"table-search\">\n      <el-button-group class=\"ml-4\">\n        <el-button :icon=\"Search\" @click=\"toggleSearch\" />\n      </el-button-group>\n    </div>\n  </div>\n\n  <!-- 表格内容 -->\n  <div style=\"width: 100%; overflow-x: auto;\" class=\"table-content\">\n    <el-table\n        :data=\"data.data\"\n        border\n        stripe\n\n        row-key=\"id\"\n        table-layout=\"fixed\"\n        style=\"width: 100%;\">\n      <!-- 表格列定义 -->\n      <el-table-column type=\"selection\" width=\"40\" />\n<!--      <el-table-column prop=\"id\" label=\"编号\" align=\"center\" min-width=\"80\"/>-->\n      <el-table-column prop=\"name\" label=\"分组名称\" align=\"center\" min-width=\"150\"/>\n      <el-table-column prop=\"weight\" label=\"权重\" align=\"center\" min-width=\"150\"/>\n      <el-table-column prop=\"remark\" label=\"备注\" align=\"center\" min-width=\"150\"/>\n\n      <!-- 状态列 -->\n      <el-table-column label=\"状态\" align=\"center\" min-width=\"80\">\n        <template #default=\"{ row }\">\n          <el-switch v-model=\"row.is_enabled\" :active-value=\"1\" :inactive-value=\"0\" />\n        </template>\n      </el-table-column>\n\n\n      <!-- 操作列 -->\n      <el-table-column label=\"操作\" align=\"center\" fixed=\"right\" min-width=\"300\">\n        <template #default=\"scope\">\n          <el-button size=\"small\"  @click=\"openEditFrom(scope.row)\">编辑</el-button>\n          <el-button size=\"small\" type=\"danger\"   @click=\"handleDelete('/api/v1/admin/user/group/delete', scope.row)\" :disabled=\"scope.$index == 0\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n\n\n\n\n  <!-- 表格分页 -->\n  <div class=\"table-footer\">\n    <div class=\"table-pagination\">\n      <el-pagination\n          v-model:current-page=\"data.current_page\"\n          v-model:page-size=\"data.page_size\"\n          :page-sizes=\"[10, 50, 100, 200]\"\n          :background=\"true\"\n          prev-text=\"上一页\"\n          next-text=\"下一页\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"data.page_total\"\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n      />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { Plus, Refresh, Search } from '@element-plus/icons-vue';\nimport { ref, onMounted } from 'vue';\n\n\n// 引入自定义插件和 API\nimport { useTableDataPlugin } from \"@/utils/plugins/table.plugin.ts\";\nimport EditForm from \"./edit.vue\";\n\nconst editFormRef = ref(null);\nconst openEditFrom = (row = {}) => {\n  console.log(row);\n  if (editFormRef.value) {\n    editFormRef.value.open({ ...row}); // 传递 `row` 作为参数\n  } else {\n    console.error(\"EditForm 组件未正确挂载！\");\n  }\n};\n// 使用表格插件来管理表格的状态、数据等\nconst {\n  // handleSelectionChange,\n  // hasSelectedRows,\n  isVisible: showSearch,\n  toggleVisibility: toggleSearch,\n  loadData,\n  data,\n  refreshData,\n  handleSizeChange,\n  handleCurrentChange,\n  // searchParams,\n  deleteRows,\n  resetSearchParams\n} = useTableDataPlugin(\"/api/v1/admin/user/group\");\n\n// 在组件挂载时加载数据\nonMounted(() => {\n  loadData();\n});\n\n// 删除方法：单条删除\nconst handleDelete = (api: string, row: any) => {\n  deleteRows(api,[row.id]);  // 传递一个 id 数组来删除单条记录\n};\n\n// 批量删除\nconst handleBatchDelete = (api: string,) => {\n  deleteRows(api);\n};\n\n</script>\n\n<style scoped>\n/* 这里可以添加样式 */\n</style>\n"],"names":["editFormRef","ref","openEditFrom","row","showSearch","toggleSearch","loadData","data","refreshData","handleSizeChange","handleCurrentChange","deleteRows","resetSearchParams","useTableDataPlugin","onMounted","handleDelete","api","handleBatchDelete","_createVNode","EditForm","_unref","_Transition","_withDirectives","_createElementVNode","_hoisted_1","_component_el_row","_component_el_col","_component_el_form_item","_component_el_input","_component_el_form","_component_el_button","_cache","_hoisted_2","Refresh","Plus","_hoisted_3","_component_el_button_group","Search","_hoisted_4","_component_el_table","_component_el_table_column","_withCtx","_component_el_switch","$event","scope","_hoisted_5","_hoisted_6","_component_el_pagination"],"mappings":"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"}