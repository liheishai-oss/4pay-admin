{"version":3,"file":"edit-CJwwVSBO.js","sources":["../../src/pages/admin/group/edit.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport {ref, nextTick} from 'vue'\nimport type Node from 'element-plus/es/components/tree/src/model/node'\nimport type { TreeNodeData } from 'element-plus/es/components/tree/src/tree.type'\nimport { User, Lock } from '@element-plus/icons-vue'\nimport {addAdminGroup, editAdminGroup, getUserGroup, getUserGroupDetail, getUserRule} from \"@/api/api.ts\";\nimport {ElMessage} from \"element-plus\";\n\nconst visible = ref(false);\nconst treeRef = ref<any>();\nconst formRef = ref()\nconst submitting = ref(false)\n\nconst rules = {\n  name: [{ required: true, message: '请输入分组名称', trigger: 'blur' }],\n  parent_id: [{ required: false }],\n}\n\n// 表单数据\nconst form = ref({\n  id:0,\n  parent_id:'',\n  name:'',\n  weight:0,\n  remark:'',\n  is_enabled:0,\n})\nconst treeData = ref<any[]>([])\n\nconst GetUserRule = async () => {\n  try {\n    console.log('获取权限数据，分组ID:', form.value.id)\n    const response = await getUserRule(form.value.id)\n    console.log('权限API完整响应:', response)\n    \n    // 处理不同的响应结构\n    let data = response.data || response\n    console.log('处理后的数据:', data)\n    \n    // 检查数据结构\n    if (data.tree_data) {\n      treeData.value = data.tree_data\n    } else if (Array.isArray(data)) {\n      treeData.value = data\n    } else {\n      treeData.value = []\n    }\n    \n    console.log('权限树数据:', treeData.value)\n    \n    // 设置已拥有的权限为选中状态\n    const ownedRules = data.owned_rules || []\n    if (ownedRules.length > 0) {\n      console.log('已拥有的权限:', ownedRules)\n      nextTick(() => {\n        if (treeRef.value) {\n          treeRef.value.setCheckedKeys(ownedRules)\n        }\n      })\n    }\n  } catch (error: any) {\n    console.error('获取用户权限失败:', error)\n    ElMessage.error('获取权限数据失败: ' + (error?.message || '未知错误'))\n  }\n}\n\nconst userGroupData = ref([])\nconst GetUserGroup = async () => {\n  try {\n    const { data } = await getUserGroup(form.value.id)\n    userGroupData.value = data || []\n  } catch (error) {\n    console.error('获取用户权限失败:', error)\n  }\n}\n\nconst GetUserGroupDetail = async (id:number) => {\n  try {\n    const {data} =  await getUserGroupDetail(id)\n    return data\n  } catch (error) {\n    console.error('获取用户权限失败:', error)\n  }\n}\n\n// 配置树形结构的字段\nconst treeProps = {\n  label: 'title',\n  children: 'children'\n}\n\n// 定义 emit 事件\nconst emit = defineEmits<{\n  (event: 'refresh'): void;\n}>();\n\n// 权限树操作方法\nconst expandAll = () => {\n  if (treeRef.value) {\n    const allKeys = getAllKeys(treeData.value)\n    treeRef.value.setExpandedKeys(allKeys)\n  }\n}\n\nconst collapseAll = () => {\n  if (treeRef.value) {\n    treeRef.value.setExpandedKeys([])\n  }\n}\n\nconst selectAll = () => {\n  if (treeRef.value) {\n    const allKeys = getAllKeys(treeData.value)\n    treeRef.value.setCheckedKeys(allKeys)\n  }\n}\n\nconst unselectAll = () => {\n  if (treeRef.value) {\n    treeRef.value.setCheckedKeys([])\n  }\n}\n\nconst getAllKeys = (data: any[]): number[] => {\n  const keys: number[] = []\n  const traverse = (nodes: any[]) => {\n    nodes.forEach(node => {\n      keys.push(node.id)\n      if (node.children && node.children.length > 0) {\n        traverse(node.children)\n      }\n    })\n  }\n  traverse(data)\n  return keys\n}\n\n// 打开弹窗并填充数据\nconst open = async (data = {}) => {\n  console.log(\"接收参数\",data)\n\n  const merged = {\n    ...data,\n  };\n\n  if ((merged as any).parent_id === 0) {\n    (merged as any).parent_id = '';\n  }\n\n  Object.assign(form.value, merged);\n  await GetUserGroup()\n  await GetUserRule()\n  if((merged as any).id>0){\n    const detail = await GetUserGroupDetail((merged as any).id)\n    console.log(\"详情\",detail)\n    Object.assign(form.value, detail);\n  }else{\n\t  form.value.id = 0\n  }\n  console.log(form.value);\n  visible.value = true;\n};\n\n// 提交表单\nconst handleSubmit = async () => {\n  if (submitting.value) return\n  \n  submitting.value = true\n  \n  try {\n    // 获取选中的权限节点 ID\n    const checkedKeys = treeRef.value?.getCheckedKeys() || []\n    \n    // 合并到提交数据中\n    const payload = {\n      ...form.value,\n      rule_ids: checkedKeys,\n    }\n\n    let data;\n    if(payload.id == 0) {\n      data = await addAdminGroup(payload);\n    }else{\n      data = await editAdminGroup(payload);\n    }\n\n    if (data.data?.code === 200 || data.status) {\n      ElMessage.success(data.data?.msg || (data as any).message || '操作成功')\n      emit('refresh');\n      visible.value = false;\n    }\n  } catch (error) {\n    console.error('提交失败:', error)\n    ElMessage.error('操作失败，请重试')\n  } finally {\n    submitting.value = false\n  }\n}\n\n// 暴露 `open` 方法，供外部调用\ndefineExpose({ open });\n</script>\n\n<template>\n  <el-dialog \n    v-model=\"visible\" \n    :title=\"form.id > 0 ? '编辑用户分组' : '新增用户分组'\" \n    width=\"60%\" \n    :close-on-click-modal=\"false\"\n    class=\"group-edit-dialog\"\n  >\n    <div class=\"dialog-content\">\n      <!-- 基本信息卡片 -->\n      <el-card class=\"form-card\" shadow=\"never\">\n        <template #header>\n          <div class=\"card-header\">\n            <el-icon><User /></el-icon>\n            <span>基本信息</span>\n          </div>\n        </template>\n        \n        <el-form :model=\"form\" label-width=\"100px\" :rules=\"rules\" ref=\"formRef\">\n          <el-row :gutter=\"20\">\n            <el-col :span=\"12\">\n              <el-form-item label=\"上级分组\" prop=\"parent_id\">\n                <el-tree-select\n                  v-model=\"form.parent_id\"\n                  :data=\"userGroupData\"\n                  :props=\"treeProps\"\n                  node-key=\"id\"\n                  check-strictly\n                  placeholder=\"请选择上级分组\"\n                  clearable\n                  :filterable=\"true\"\n                  class=\"w-full\"\n                />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item label=\"分组名称\" prop=\"name\">\n                <el-input v-model=\"form.name\" placeholder=\"请输入分组名称\" />\n              </el-form-item>\n            </el-col>\n          </el-row>\n          \n          <el-row :gutter=\"20\">\n            <el-col :span=\"12\">\n              <el-form-item label=\"状态\" prop=\"is_enabled\">\n                <el-switch \n                  v-model=\"form.is_enabled\" \n                  :active-value=\"1\" \n                  :inactive-value=\"0\"\n                  active-text=\"启用\"\n                  inactive-text=\"禁用\"\n                />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item label=\"权重\" prop=\"weight\">\n                <el-input-number v-model=\"form.weight\" :min=\"0\" :max=\"999\" class=\"w-full\" />\n              </el-form-item>\n            </el-col>\n          </el-row>\n          \n          <el-form-item label=\"备注\" prop=\"remark\">\n            <el-input \n              v-model=\"form.remark\" \n              type=\"textarea\" \n              :rows=\"3\"\n              placeholder=\"请输入备注信息\"\n              maxlength=\"200\"\n              show-word-limit\n            />\n          </el-form-item>\n        </el-form>\n      </el-card>\n\n      <!-- 权限分配卡片 -->\n      <el-card class=\"permission-card\" shadow=\"never\">\n        <template #header>\n          <div class=\"card-header\">\n            <el-icon><Lock /></el-icon>\n            <span>权限分配</span>\n            <div class=\"permission-actions\">\n              <el-button size=\"small\" @click=\"expandAll\">展开全部</el-button>\n              <el-button size=\"small\" @click=\"collapseAll\">收起全部</el-button>\n              <el-button size=\"small\" @click=\"selectAll\">全选</el-button>\n              <el-button size=\"small\" @click=\"unselectAll\">取消全选</el-button>\n            </div>\n          </div>\n        </template>\n        \n        <!-- 权限分配说明 -->\n        <el-alert\n          title=\"权限分配说明\"\n          type=\"info\"\n          :closable=\"false\"\n          show-icon\n          class=\"permission-tip\"\n        >\n          <template #default>\n            <div class=\"tip-content\">\n              <p>• 超级管理员可以分配所有权限</p>\n              <p>• 普通管理组只能分配其父级拥有的权限</p>\n              <p>• 已选中的权限表示该分组当前拥有的权限</p>\n              <p>• 取消选中权限将从该分组中移除该权限</p>\n            </div>\n          </template>\n        </el-alert>\n        \n        <div class=\"permission-tree-container\">\n          <!-- 调试信息 -->\n          <div v-if=\"treeData.length === 0\" class=\"debug-info\">\n            <p>权限数据为空，请检查：</p>\n            <ul>\n              <li>1. 数据库中是否有权限数据</li>\n              <li>2. 权限数据是否启用（status=1）</li>\n              <li>3. 是否有顶级权限（parent_id=0）</li>\n            </ul>\n            <p>当前数据：{{ JSON.stringify(treeData) }}</p>\n          </div>\n          \n          <el-tree\n            v-if=\"treeData.length > 0\"\n            :data=\"treeData\"\n            show-checkbox\n            ref=\"treeRef\"\n            node-key=\"id\"\n            :expand-on-click-node=\"false\"\n            :props=\"treeProps\"\n            class=\"permission-tree\"\n            :default-expand-all=\"false\"\n          />\n        </div>\n      </el-card>\n    </div>\n\n    <template #footer>\n      <div class=\"dialog-footer\">\n        <el-button @click=\"visible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"handleSubmit\" :loading=\"submitting\">\n          {{ form.id > 0 ? '更新' : '创建' }}\n        </el-button>\n      </div>\n    </template>\n  </el-dialog>\n</template>\n\n<style scoped>\n.group-edit-dialog {\n  .dialog-content {\n    max-height: 70vh;\n    overflow-y: auto;\n  }\n  \n  .form-card {\n    margin-bottom: 20px;\n    border: 1px solid #e4e7ed;\n    border-radius: 8px;\n    \n    .card-header {\n      display: flex;\n      align-items: center;\n      font-weight: 600;\n      color: #303133;\n      \n      .el-icon {\n        margin-right: 8px;\n        color: #409eff;\n      }\n    }\n  }\n  \n    .permission-card {\n    border: 1px solid #e4e7ed;\n    border-radius: 8px;\n    \n    .card-header {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      font-weight: 600;\n      color: #303133;\n      \n      .el-icon {\n        margin-right: 8px;\n        color: #f56c6c;\n      }\n      \n      .permission-actions {\n        display: flex;\n        gap: 8px;\n      }\n    }\n    \n    .permission-tip {\n      margin-bottom: 16px;\n      \n      .tip-content {\n        p {\n          margin: 4px 0;\n          font-size: 13px;\n          color: #606266;\n        }\n      }\n    }\n    \n    .permission-tree-container {\n      max-height: 400px;\n      overflow-y: auto;\n      border: 1px solid #e4e7ed;\n      border-radius: 6px;\n      padding: 12px;\n      background-color: #fafafa;\n      \n      .debug-info {\n        padding: 20px;\n        background-color: #fff3cd;\n        border: 1px solid #ffeaa7;\n        border-radius: 4px;\n        color: #856404;\n        \n        p {\n          margin: 8px 0;\n          font-weight: 500;\n        }\n        \n        ul {\n          margin: 8px 0;\n          padding-left: 20px;\n          \n          li {\n            margin: 4px 0;\n          }\n        }\n      }\n      \n      .permission-tree {\n        .el-tree-node__content {\n          padding: 8px 12px;\n          border-radius: 4px;\n          margin-bottom: 4px;\n          transition: all 0.3s;\n          \n          &:hover {\n            background-color: #f0f9ff;\n            border-color: #409eff;\n          }\n        }\n        \n        .el-tree-node__label {\n          font-weight: 500;\n        }\n        \n        .el-checkbox {\n          margin-right: 8px;\n        }\n      }\n    }\n  }\n  \n  .dialog-footer {\n    display: flex;\n    justify-content: flex-end;\n    gap: 12px;\n    padding-top: 20px;\n    border-top: 1px solid #e4e7ed;\n  }\n}\n\n.w-full {\n  width: 100%;\n}\n\n/* 权限树节点样式 */\n.is-penultimate > .el-tree-node__content {\n  color: #626aef;\n  font-weight: 600;\n  background-color: #f8f9ff;\n  border-left: 3px solid #626aef;\n}\n\n.is-penultimate > .el-tree-node__children > div {\n  display: inline-block;\n  margin-right: 4px;\n\n  &:not(:first-child) .el-tree-node__content {\n    padding-left: 0px !important;\n  }\n  .el-tree-node__content {\n    padding-right: 16px;\n  }\n}\n\n/* 响应式设计 */\n@media (max-width: 768px) {\n  .group-edit-dialog {\n    width: 95% !important;\n    \n    .dialog-content {\n      .el-row {\n        .el-col {\n          width: 100% !important;\n        }\n      }\n    }\n  }\n}\n</style>"],"names":["visible","ref","treeRef","formRef","submitting","rules","form","treeData","GetUserRule","response","getUserRule","data","ownedRules","nextTick","error","ElMessage","userGroupData","GetUserGroup","getUserGroup","GetUserGroupDetail","id","getUserGroupDetail","treeProps","emit","__emit","expandAll","allKeys","getAllKeys","collapseAll","selectAll","unselectAll","keys","traverse","nodes","node","open","merged","detail","handleSubmit","checkedKeys","_a","payload","addAdminGroup","editAdminGroup","_b","_c","__expose","_createBlock","_component_el_dialog","$event","_createElementVNode","_hoisted_7","_createVNode","_component_el_button","_cache","_createTextVNode","_toDisplayString","_hoisted_1","_component_el_card","_hoisted_2","_component_el_icon","_unref","User","_component_el_form","_component_el_row","_component_el_col","_component_el_form_item","_component_el_tree_select","_component_el_input","_component_el_switch","_component_el_input_number","_hoisted_3","Lock","_hoisted_4","_component_el_alert","_hoisted_5","_openBlock","_createElementBlock","_hoisted_6","_component_el_tree"],"mappings":"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"}