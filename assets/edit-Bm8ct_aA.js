import{s as g,d as T,g as p,aj as U,i as I,w as u,ao as q,o as B,a as l,u as C,x as F,ap as j,n as v,y as z,z as A,X as N,q as R,D as _}from"./index-BwnaPa-Z.js";function S(m,n={}){return g({url:m,method:"post",data:n})}function M(m,n={}){return g({url:m,method:"post",data:n})}const X=T({__name:"edit",emits:["refresh"],setup(m,{expose:n,emit:c}){const o=p(!1),f=p(),a=p({id:0,telegram_id:"",nickname:"",username:"",status:1,remark:""}),V=p({telegram_id:[{required:!0,message:"请输入 Telegram 用户ID",trigger:"blur"}],nickname:[{required:!0,message:"请输入昵称",trigger:"blur"}],username:[{required:!0,message:"请输入用户名",trigger:"blur"}]}),k=(t={})=>{Object.assign(a.value,{id:t.id||0,telegram_id:t.telegram_id||"",nickname:t.nickname||"",username:t.username||"",status:t.status??1,remark:t.remark||""}),o.value=!0},b=async()=>{var d;await((d=f.value)==null?void 0:d.validate());const t={...a.value},e=a.value.id===0?await S("/api/v1/admin/telegram-admin/add",t):await M("/api/v1/admin/telegram-admin/edit",t);e.status?(_.success(e.message),x("refresh"),o.value=!1):_.error(e.message)},w=()=>{a.value={id:0,telegram_id:"",nickname:"",username:"",status:1,remark:""}};U(o,t=>{t||w()});const x=c;return n({open:k}),(t,e)=>{const d=j,i=A,s=z,E=N,y=R,D=q;return B(),I(D,{modelValue:o.value,"onUpdate:modelValue":e[5]||(e[5]=r=>o.value=r),title:"群组管理员",size:"50%"},{default:u(()=>[l(C(F),{model:a.value,rules:V.value,ref_key:"formRef",ref:f,"label-width":"150px"},{default:u(()=>[l(d,{"content-position":"left"},{default:u(()=>[...e[6]||(e[6]=[v("基本信息",-1)])]),_:1}),l(s,{label:"Telegram 用户ID",prop:"telegram_id"},{default:u(()=>[l(i,{modelValue:a.value.telegram_id,"onUpdate:modelValue":e[0]||(e[0]=r=>a.value.telegram_id=r),placeholder:"请输入 Telegram 用户ID"},null,8,["modelValue"])]),_:1}),l(s,{label:"昵称",prop:"nickname"},{default:u(()=>[l(i,{modelValue:a.value.nickname,"onUpdate:modelValue":e[1]||(e[1]=r=>a.value.nickname=r),placeholder:"请输入昵称"},null,8,["modelValue"])]),_:1}),l(s,{label:"用户名",prop:"username"},{default:u(()=>[l(i,{modelValue:a.value.username,"onUpdate:modelValue":e[2]||(e[2]=r=>a.value.username=r),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),l(s,{label:"状态",prop:"status"},{default:u(()=>[l(E,{modelValue:a.value.status,"onUpdate:modelValue":e[3]||(e[3]=r=>a.value.status=r),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1}),l(s,{label:"备注",prop:"remark"},{default:u(()=>[l(i,{modelValue:a.value.remark,"onUpdate:modelValue":e[4]||(e[4]=r=>a.value.remark=r),type:"textarea"},null,8,["modelValue"])]),_:1}),l(s,null,{default:u(()=>[l(y,{type:"primary",onClick:b},{default:u(()=>[...e[7]||(e[7]=[v("提交",-1)])]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])}}});export{X as default};
//# sourceMappingURL=edit-Bm8ct_aA.js.map
