const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/edit-D_9ijAKB.js","assets/index-BvjDfs_Q.js","assets/index-Rf2PxGBt.css","assets/merchant-B-3-6kp-.js","assets/edit-CNyvggb3.css","assets/loading-oV0W9nDj.css","assets/product-management-CazXSemc.js","assets/product-B8KE0HzB.js","assets/product-management-C7jJiffk.css","assets/table-column-DHEyVPoW.css","assets/checkbox-CXazyT-T.css","assets/input-number-CWqCFpc2.css"])))=>i.map(i=>d[i]);
import{d as fe,g as f,L as ge,c as L,a as e,e as r,u as n,w as a,T as he,Q as u,i as m,M as ve,q as ye,C as be,N as we,O as Ce,P as ke,aG as Ee,o as p,av as N,j as Ve,a1 as xe,z as Se,aI as ze,n as s,x as Re,E as De,b as Pe,y as Fe,ar as Ie,at as Te,k as Ue,V as D,S as O,ai as Ae,R as $e,U as Me,aJ as Be,aK as Le,W as Ne,t as V,X as Oe,aw as K,D as P,_ as Ke}from"./index-BvjDfs_Q.js";/* empty css                   *//* empty css               *//* empty css                     *//* empty css                 */import{u as je}from"./table.plugin-CIQ6B211.js";const Ge={key:0,class:"api-docs-content"},Je={class:"card-header"},qe={class:"api-info-textarea"},He={class:"dialog-footer"},Qe={class:"table-com-search"},We={class:"search-header"},Xe={class:"search-title"},Ye={class:"search-buttons"},Ze={class:"table-header ba-scroll-style"},et={class:"table-search"},tt={style:{width:"100%","overflow-x":"auto"},class:"table-content"},at={class:"table-footer"},lt={class:"table-pagination"},nt=fe({__name:"home",setup(ot){const j=N(()=>K(()=>import("./edit-D_9ijAKB.js"),__vite__mapDeps([0,1,2,3,4,5]))),y=f(null),F=(o={})=>{console.log("ðŸ” openEditFrom called",{row:o,editFormRef:y.value,hasEditFormRef:!!y.value}),y.value?(console.log("âœ… Calling editFormRef.value.open"),y.value.open({...o})):console.error("âŒ editFormRef.value is null - ç»„ä»¶å¯èƒ½æœªæ­£ç¡®åŠ è½½")},G=N(()=>K(()=>import("./product-management-CazXSemc.js"),__vite__mapDeps([6,1,2,3,7,8,5,9,10,11]))),x=f(null),J=o=>{x.value&&x.value.open({id:o.id,merchant_name:o.merchant_name})},{handleSelectionChange:q,hasSelectedRows:I,isVisible:H,toggleVisibility:T,loadData:Q,data:g,refreshData:b,handleSizeChange:W,handleCurrentChange:X,searchParams:U,deleteRows:A,toggleSwitch:Y}=je("/api/v1/admin/merchant"),_=f({login_account:"",status:""}),S=f(!1),Z=async()=>{S.value=!0;try{U.value={..._.value},await b()}catch(o){console.error("æœç´¢å¤±è´¥:",o),P.error("æœç´¢å¤±è´¥ï¼Œè¯·é‡è¯•")}finally{S.value=!1}},ee=()=>{_.value={login_account:"",status:""},U.value={..._.value},b()},w=o=>(o/100).toFixed(2),C=f(!1),k=f(null),E=f(""),te=o=>{k.value=o,ae(),C.value=!0},ae=()=>{if(!k.value)return;const o=k.value,t=`=== ç™¾äº¿æ”¯ä»˜å¯¹æŽ¥ä¿¡æ¯ ===

å•†æˆ·ä¿¡æ¯ï¼š
å•†æˆ·åç§°ï¼š${o.merchant_name}
å•†æˆ·Keyï¼š${o.merchant_key}
å•†æˆ·ç§˜é’¥ï¼š${o.merchant_secret}
å›žè°ƒIPï¼š34.92.49.193,34.150.65.167

APIæŽ¥å£ä¿¡æ¯ï¼š
APIç½‘å…³ï¼šhttps://api.baiyi-pay.com
APIæ–‡æ¡£ï¼šhttps://www.baiyi-pay.com/docs.html

æŽ¥å£è¯´æ˜Žï¼š
1. æ‰€æœ‰æŽ¥å£è¯·æ±‚éƒ½éœ€è¦è¿›è¡Œç­¾åéªŒè¯
2. ç­¾åç®—æ³•ï¼šMD5(å‚æ•°æŒ‰keyæŽ’åºåŽæ‹¼æŽ¥ + å•†æˆ·ç§˜é’¥)
3. è¯·æ±‚æ–¹å¼ï¼šPOST
4. æ•°æ®æ ¼å¼ï¼šJSON
5. å­—ç¬¦ç¼–ç ï¼šUTF-8

å›žè°ƒè¯´æ˜Žï¼š
- æ”¯ä»˜æˆåŠŸåŽç³»ç»Ÿä¼šä¸»åŠ¨å›žè°ƒå•†æˆ·çš„notify_url
- å›žè°ƒå‚æ•°åŒ…å«è®¢å•çŠ¶æ€å’Œç­¾åä¿¡æ¯
- å•†æˆ·æ”¶åˆ°å›žè°ƒåŽéœ€è¦è¿”å›ž"success"å­—ç¬¦ä¸²ç¡®è®¤

æ³¨æ„äº‹é¡¹ï¼š
1. è¯·å¦¥å–„ä¿ç®¡å•†æˆ·Keyå’Œå•†æˆ·ç§˜é’¥
2. å¿…é¡»ä½¿ç”¨HTTPSåè®®è¿›è¡ŒæŽ¥å£è°ƒç”¨
3. å›žè°ƒåœ°å€å¿…é¡»æ˜¯å…¬ç½‘å¯è®¿é—®çš„URL
4. å¦‚æœ‰ç–‘é—®è¯·è”ç³»æŠ€æœ¯æ”¯æŒ

ç”Ÿæˆæ—¶é—´ï¼š${new Date().toLocaleString()}`;E.value=t},le=async()=>{try{await navigator.clipboard.writeText(E.value),P.success("å®Œæ•´å¯¹æŽ¥ä¿¡æ¯å·²å¤åˆ¶åˆ°å‰ªè´´æ¿")}catch{P.error("å¤åˆ¶å¤±è´¥")}};ge(()=>{Q()});const ne=()=>{console.log("æ‰¹é‡ç¼–è¾‘")},oe=(o,t)=>{A(o,[t.id])},se=o=>{A(o)};return(o,t)=>{const i=ye,$=Se,M=xe,ie=be,h=Ue,z=Fe,R=Pe,B=Te,re=Ie,de=De,ue=Re,ce=we,d=Ne,pe=Oe,me=Ce,_e=ke,c=Ee("permission");return p(),L(ve,null,[e(n(j),{ref_key:"editFormRef",ref:y,onRefresh:n(b)},null,8,["onRefresh"]),e(n(G),{ref_key:"productManagementRef",ref:x},null,512),e(ie,{modelValue:C.value,"onUpdate:modelValue":t[2]||(t[2]=l=>C.value=l),title:"å¯¹æŽ¥èµ„æ–™",width:"600px","close-on-click-modal":!1},{footer:a(()=>[r("div",He,[e(i,{onClick:t[1]||(t[1]=l=>C.value=!1)},{default:a(()=>[...t[10]||(t[10]=[s("å…³é—­",-1)])]),_:1})])]),default:a(()=>[k.value?(p(),L("div",Ge,[e(M,{class:"api-info-card",shadow:"never"},{header:a(()=>[r("div",Je,[t[9]||(t[9]=r("span",null,"å¯¹æŽ¥ä¿¡æ¯",-1)),e(i,{type:"primary",size:"small",onClick:le,icon:n(ze)},{default:a(()=>[...t[8]||(t[8]=[s(" ä¸€é”®å¤åˆ¶å…¨éƒ¨ ",-1)])]),_:1},8,["icon"])])]),default:a(()=>[r("div",qe,[e($,{modelValue:E.value,"onUpdate:modelValue":t[0]||(t[0]=l=>E.value=l),type:"textarea",rows:12,readonly:"",placeholder:"å¯¹æŽ¥ä¿¡æ¯åŠ è½½ä¸­...",class:"api-info-text"},null,8,["modelValue"])])]),_:1})])):Ve("",!0)]),_:1},8,["modelValue"]),e(he,{name:"fade"},{default:a(()=>[u(r("div",Qe,[e(M,{class:"search-card",shadow:"never"},{header:a(()=>[r("div",We,[r("span",Xe,[e(h,null,{default:a(()=>[e(n(D))]),_:1}),t[11]||(t[11]=s(" å•†æˆ·æœç´¢ ",-1))]),e(i,{type:"text",onClick:n(T),class:"close-btn"},{default:a(()=>[e(h,null,{default:a(()=>[e(n(Ae))]),_:1})]),_:1},8,["onClick"])])]),default:a(()=>[e(ue,{model:_.value,"label-width":"120px",class:"search-form"},{default:a(()=>[e(de,{gutter:20},{default:a(()=>[e(R,{span:6},{default:a(()=>[e(z,{label:"ç™»å½•è´¦å·"},{default:a(()=>[e($,{modelValue:_.value.login_account,"onUpdate:modelValue":t[3]||(t[3]=l=>_.value.login_account=l),placeholder:"è¯·è¾“å…¥ç™»å½•è´¦å·",clearable:"","prefix-icon":"User"},null,8,["modelValue"])]),_:1})]),_:1}),e(R,{span:6},{default:a(()=>[e(z,{label:"çŠ¶æ€"},{default:a(()=>[e(re,{modelValue:_.value.status,"onUpdate:modelValue":t[4]||(t[4]=l=>_.value.status=l),placeholder:"è¯·é€‰æ‹©çŠ¶æ€",clearable:"",style:{width:"100%"}},{default:a(()=>[e(B,{label:"å¯ç”¨",value:1}),e(B,{label:"ç¦ç”¨",value:0})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(R,{span:6},{default:a(()=>[e(z,null,{default:a(()=>[r("div",Ye,[e(i,{type:"primary",onClick:Z,loading:S.value},{default:a(()=>[e(h,null,{default:a(()=>[e(n(D))]),_:1}),t[12]||(t[12]=s(" æœç´¢ ",-1))]),_:1},8,["loading"]),e(i,{onClick:ee},{default:a(()=>[e(h,null,{default:a(()=>[e(n(O))]),_:1}),t[13]||(t[13]=s(" é‡ç½® ",-1))]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})],512),[[$e,n(H)]])]),_:1}),r("div",Ze,[u(e(i,{icon:n(O),onClick:n(b),color:"#40485b"},null,8,["icon","onClick"]),[[c,"merchant:list"]]),u((p(),m(i,{type:"primary",icon:n(Me),onClick:F},{default:a(()=>[...t[14]||(t[14]=[s("æ·»åŠ ",-1)])]),_:1},8,["icon"])),[[c,"merchant:add"]]),u((p(),m(i,{type:"primary",disabled:!n(I),onClick:ne},{default:a(()=>[...t[15]||(t[15]=[s("ç¼–è¾‘",-1)])]),_:1},8,["disabled"])),[[c,"merchant:edit"]]),u((p(),m(i,{type:"danger",disabled:!n(I),onClick:t[5]||(t[5]=l=>se("/api/v1/admin/merchant/delete"))},{default:a(()=>[...t[16]||(t[16]=[s("åˆ é™¤",-1)])]),_:1},8,["disabled"])),[[c,"merchant:delete"]]),u((p(),m(i,{type:"primary"},{default:a(()=>[t[17]||(t[17]=s(" å¯¼å…¥",-1)),e(h,{class:"el-icon--right"},{default:a(()=>[e(n(Be))]),_:1})]),_:1})),[[c,"merchant:import"]]),u((p(),m(i,{type:"primary"},{default:a(()=>[t[18]||(t[18]=s(" å¯¼å‡º",-1)),e(h,{class:"el-icon--right"},{default:a(()=>[e(n(Le))]),_:1})]),_:1})),[[c,"merchant:export"]]),r("div",et,[e(ce,{class:"ml-4"},{default:a(()=>[e(i,{icon:n(D),onClick:n(T)},null,8,["icon","onClick"])]),_:1})])]),r("div",tt,[e(me,{data:n(g).data,border:"",stripe:"","table-layout":"fixed",style:{width:"100%"},onSelectionChange:n(q)},{default:a(()=>[e(d,{type:"selection",width:"40"}),e(d,{prop:"merchant_name",label:"å•†æˆ·åç§°",align:"center","min-width":"150"}),e(d,{prop:"login_account",label:"ç™»å½•è´¦å·",align:"center","min-width":"120"}),e(d,{label:"é‡‘é¢ä¿¡æ¯",align:"center","min-width":"200"},{default:a(()=>[e(d,{prop:"withdrawable_amount",label:"å¯æé‡‘é¢",width:"100",align:"center"},{default:a(({row:l})=>[s(V(w(l.withdrawable_amount))+"å…ƒ ",1)]),_:1}),e(d,{prop:"frozen_amount",label:"å†»ç»“é‡‘é¢",width:"100",align:"center"},{default:a(({row:l})=>[s(V(w(l.frozen_amount))+"å…ƒ ",1)]),_:1})]),_:1}),e(d,{label:"é¢„ä»˜ä¿¡æ¯",align:"center","min-width":"200"},{default:a(()=>[e(d,{prop:"prepayment_total",label:"é¢„ä»˜æ€»é¢",width:"100",align:"center"},{default:a(({row:l})=>[s(V(w(l.prepayment_total))+"å…ƒ ",1)]),_:1}),e(d,{prop:"prepayment_remaining",label:"å‰©ä½™é¢„ä»˜",width:"100",align:"center"},{default:a(({row:l})=>[s(V(w(l.prepayment_remaining))+"å…ƒ ",1)]),_:1})]),_:1}),e(d,{label:"çŠ¶æ€",align:"center","min-width":"80"},{default:a(({row:l})=>[u(e(pe,{modelValue:l.status,"onUpdate:modelValue":v=>l.status=v,"active-value":1,"inactive-value":0,onChange:v=>n(Y)("/api/v1/admin/merchant/status-switch",l.id)},null,8,["modelValue","onUpdate:modelValue","onChange"]),[[c,"merchant:toggle_status"]])]),_:1}),e(d,{prop:"created_at",label:"åˆ›å»ºæ—¶é—´",align:"center","min-width":"160"}),e(d,{label:"æ“ä½œ",align:"center",fixed:"right","min-width":"360"},{default:a(l=>[u((p(),m(i,{size:"small",onClick:v=>F(l.row)},{default:a(()=>[...t[19]||(t[19]=[s("ç¼–è¾‘",-1)])]),_:1},8,["onClick"])),[[c,"merchant:edit"]]),u((p(),m(i,{size:"small",type:"info",onClick:v=>te(l.row)},{default:a(()=>[...t[20]||(t[20]=[s("å¯¹æŽ¥èµ„æ–™",-1)])]),_:1},8,["onClick"])),[[c,"merchant:api_docs"]]),u((p(),m(i,{size:"small",type:"success",onClick:v=>J(l.row)},{default:a(()=>[...t[21]||(t[21]=[s("äº§å“ç®¡ç†",-1)])]),_:1},8,["onClick"])),[[c,"merchant:product_management"]]),u((p(),m(i,{size:"small",type:"danger",onClick:v=>oe("/api/v1/admin/merchant/delete",l.row)},{default:a(()=>[...t[22]||(t[22]=[s("åˆ é™¤",-1)])]),_:1},8,["onClick"])),[[c,"merchant:delete"]])]),_:1})]),_:1},8,["data","onSelectionChange"])]),r("div",at,[r("div",lt,[e(_e,{"current-page":n(g).current_page,"onUpdate:currentPage":t[6]||(t[6]=l=>n(g).current_page=l),"page-size":n(g).page_size,"onUpdate:pageSize":t[7]||(t[7]=l=>n(g).page_size=l),"page-sizes":[10,50,100,200],background:!0,"prev-text":"ä¸Šä¸€é¡µ","next-text":"ä¸‹ä¸€é¡µ",layout:"total, sizes, prev, pager, next, jumper",total:n(g).page_total,onSizeChange:n(W),onCurrentChange:n(X)},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])])])],64)}}}),pt=Ke(nt,[["__scopeId","data-v-023efa35"]]);export{pt as default};
//# sourceMappingURL=home-C5VXMv59.js.map
