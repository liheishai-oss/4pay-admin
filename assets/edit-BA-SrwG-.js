import{s as g,d as T,h as p,ah as U,M as I,am as q,o as B,w as u,a as l,u as C,i as F,a9 as j,v,D as A,l as M,L as N,j as R,x as _}from"./index-Gdxi0XPM.js";import"./form-item-l0sNRNKZ.js";/* empty css              */function S(n,o={}){return g({url:n,method:"post",data:o})}function z(n,o={}){return g({url:n,method:"post",data:o})}const G=T({__name:"edit",emits:["refresh"],setup(n,{expose:o,emit:c}){const m=p(!1),f=p(),a=p({id:0,telegram_id:"",nickname:"",username:"",status:1,remark:""}),V=p({telegram_id:[{required:!0,message:"请输入 Telegram 用户ID",trigger:"blur"}],nickname:[{required:!0,message:"请输入昵称",trigger:"blur"}],username:[{required:!0,message:"请输入用户名",trigger:"blur"}]}),k=(t={})=>{Object.assign(a.value,{id:t.id||0,telegram_id:t.telegram_id||"",nickname:t.nickname||"",username:t.username||"",status:t.status??1,remark:t.remark||""}),m.value=!0},b=async()=>{var i;await((i=f.value)==null?void 0:i.validate());const t={...a.value},e=a.value.id===0?await S("/api/v1/admin/telegram-admin/add",t):await z("/api/v1/admin/telegram-admin/edit",t);e.status?(_.success(e.message),x("refresh"),m.value=!1):_.error(e.message)},w=()=>{a.value={id:0,telegram_id:"",nickname:"",username:"",status:1,remark:""}};U(m,t=>{t||w()});const x=c;return o({open:k}),(t,e)=>{const i=j,d=M,s=A,E=N,y=R,D=q;return B(),I(D,{modelValue:m.value,"onUpdate:modelValue":e[5]||(e[5]=r=>m.value=r),title:"群组管理员",size:"50%"},{default:u(()=>[l(C(F),{model:a.value,rules:V.value,ref_key:"formRef",ref:f,"label-width":"150px"},{default:u(()=>[l(i,{"content-position":"left"},{default:u(()=>[...e[6]||(e[6]=[v("基本信息",-1)])]),_:1}),l(s,{label:"Telegram 用户ID",prop:"telegram_id"},{default:u(()=>[l(d,{modelValue:a.value.telegram_id,"onUpdate:modelValue":e[0]||(e[0]=r=>a.value.telegram_id=r),placeholder:"请输入 Telegram 用户ID"},null,8,["modelValue"])]),_:1}),l(s,{label:"昵称",prop:"nickname"},{default:u(()=>[l(d,{modelValue:a.value.nickname,"onUpdate:modelValue":e[1]||(e[1]=r=>a.value.nickname=r),placeholder:"请输入昵称"},null,8,["modelValue"])]),_:1}),l(s,{label:"用户名",prop:"username"},{default:u(()=>[l(d,{modelValue:a.value.username,"onUpdate:modelValue":e[2]||(e[2]=r=>a.value.username=r),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),l(s,{label:"状态",prop:"status"},{default:u(()=>[l(E,{modelValue:a.value.status,"onUpdate:modelValue":e[3]||(e[3]=r=>a.value.status=r),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1}),l(s,{label:"备注",prop:"remark"},{default:u(()=>[l(d,{modelValue:a.value.remark,"onUpdate:modelValue":e[4]||(e[4]=r=>a.value.remark=r),type:"textarea"},null,8,["modelValue"])]),_:1}),l(s,null,{default:u(()=>[l(y,{type:"primary",onClick:b},{default:u(()=>[...e[7]||(e[7]=[v("提交",-1)])]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])}}});export{G as default};
//# sourceMappingURL=edit-BA-SrwG-.js.map
