const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/edit-Cdg1lIKI.js","assets/index-DQjW5cRd.js","assets/index-BDOPLeYz.css","assets/form-item-l0sNRNKZ.js","assets/merchant-B4F4Zzj5.js","assets/edit-Cpoplsh9.css","assets/loading-oV0W9nDj.css","assets/tag-CtW1DIiB.css","assets/select-Cg3B10gN.css","assets/input-BUa0-RC6.css","assets/product-management-BdwmycGO.js","assets/product-D-cNPG6v.js","assets/product-management-C7jJiffk.css","assets/table-column-DHEyVPoW.css","assets/checkbox-CXazyT-T.css","assets/input-number-CWqCFpc2.css","assets/card-D34vavgk.css"])))=>i.map(i=>d[i]);
import{d as fe,h as b,y as ve,c as L,a as t,e as n,u as o,w as l,T as ge,C as u,M as _,F as ye,j as he,N as we,z as be,A as Ce,B as ke,aG as xe,o as m,at as G,k as Ee,a5 as Ve,l as ze,v as s,i as Re,E as Fe,b as Se,D as De,ap as $e,ar as Te,m as Ie,J as T,H as K,ag as Me,G as Pe,I as Be,aI as Ue,aJ as Ae,K as Ne,Y as v,L as Le,au as O,x as I,g as Ge}from"./index-DQjW5cRd.js";/* empty css                   *//* empty css            *//* empty css               *//* empty css              *//* empty css                     *//* empty css                 *//* empty css             */import"./form-item-l0sNRNKZ.js";/* empty css             */import{u as Ke}from"./table.plugin-DtcfBVC9.js";const Oe={key:0,class:"api-docs-content"},je={class:"info-item"},qe={class:"copy-field"},Je={class:"info-item"},He={class:"copy-field"},We={class:"endpoint-item"},Ye={class:"copy-field"},Qe={class:"endpoint-item"},Xe={class:"copy-field"},Ze={class:"endpoint-item"},et={class:"copy-field"},tt={class:"dialog-footer"},lt={class:"table-com-search"},at={class:"search-header"},nt={class:"search-title"},ot={class:"search-buttons"},st={class:"table-header ba-scroll-style"},it={class:"table-search"},dt={style:{width:"100%","overflow-x":"auto"},class:"table-content"},rt={class:"table-footer"},ut={class:"table-pagination"},pt=fe({__name:"home",setup(mt){const j=G(()=>O(()=>import("./edit-Cdg1lIKI.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]))),C=b(null),M=(i={})=>{console.log("ðŸ” openEditFrom called",{row:i,editFormRef:C.value,hasEditFormRef:!!C.value}),C.value?(console.log("âœ… Calling editFormRef.value.open"),C.value.open({...i})):console.error("âŒ editFormRef.value is null - ç»„ä»¶å¯èƒ½æœªæ­£ç¡®åŠ è½½")},q=G(()=>O(()=>import("./product-management-BdwmycGO.js"),__vite__mapDeps([10,1,2,4,11,12,6,13,14,9,15,7,16]))),S=b(null),J=i=>{S.value&&S.value.open({id:i.id,merchant_name:i.merchant_name})},{handleSelectionChange:H,hasSelectedRows:P,isVisible:W,toggleVisibility:B,loadData:Y,data:g,refreshData:V,handleSizeChange:Q,handleCurrentChange:X,searchParams:U,deleteRows:A,toggleSwitch:Z}=Ke("/api/v1/admin/merchant"),c=b({login_account:"",status:"",withdraw_config_type:""}),D=b(!1),ee=async()=>{D.value=!0;try{U.value={...c.value},await V()}catch(i){console.error("æœç´¢å¤±è´¥:",i),I.error("æœç´¢å¤±è´¥ï¼Œè¯·é‡è¯•")}finally{D.value=!1}},te=()=>{c.value={login_account:"",status:"",withdraw_config_type:""},U.value={...c.value},V()},k=i=>(i/100).toFixed(2),le=i=>(i/100).toFixed(2),ae=i=>({1:"ç³»ç»Ÿè§„åˆ™",2:"å•ç¬”å›ºå®š",3:"å•ç¬”æ¯”ä¾‹"})[i]||"-",z=b(!1),y=b(null),ne=i=>{y.value=i,z.value=!0},x=async(i,e)=>{try{await navigator.clipboard.writeText(i),I.success(`${e}å·²å¤åˆ¶åˆ°å‰ªè´´æ¿`)}catch{I.error("å¤åˆ¶å¤±è´¥")}};ve(()=>{Y()});const oe=()=>{console.log("æ‰¹é‡ç¼–è¾‘")},se=(i,e)=>{A(i,[e.id])},ie=i=>{A(i)};return(i,e)=>{const f=ze,d=he,$=Ve,de=we,h=Ie,R=De,F=Se,E=Te,N=$e,re=Fe,ue=Re,pe=be,r=Ne,me=Le,ce=Ce,_e=ke,p=xe("permission");return m(),L(ye,null,[t(o(j),{ref_key:"editFormRef",ref:C,onRefresh:o(V)},null,8,["onRefresh"]),t(o(q),{ref_key:"productManagementRef",ref:S},null,512),t(de,{modelValue:z.value,"onUpdate:modelValue":e[6]||(e[6]=a=>z.value=a),title:"å¯¹æŽ¥èµ„æ–™",width:"600px","close-on-click-modal":!1},{footer:l(()=>[n("div",tt,[t(d,{onClick:e[5]||(e[5]=a=>z.value=!1)},{default:l(()=>[...e[25]||(e[25]=[s("å…³é—­",-1)])]),_:1})])]),default:l(()=>[y.value?(m(),L("div",Oe,[t($,{class:"api-info-card",shadow:"never"},{header:l(()=>[...e[13]||(e[13]=[n("div",{class:"card-header"},[n("span",null,"å¯¹æŽ¥ä¿¡æ¯")],-1)])]),default:l(()=>[n("div",je,[e[15]||(e[15]=n("label",null,"å•†æˆ·Keyï¼š",-1)),n("div",qe,[t(f,{value:y.value.merchant_key,readonly:"",class:"copy-input"},null,8,["value"]),t(d,{type:"primary",size:"small",onClick:e[0]||(e[0]=a=>x(y.value.merchant_key,"å•†æˆ·Key"))},{default:l(()=>[...e[14]||(e[14]=[s(" å¤åˆ¶ ",-1)])]),_:1})])]),n("div",Je,[e[17]||(e[17]=n("label",null,"å•†æˆ·ç§˜é’¥ï¼š",-1)),n("div",He,[t(f,{value:y.value.merchant_secret,readonly:"",class:"copy-input",type:"password","show-password":""},null,8,["value"]),t(d,{type:"primary",size:"small",onClick:e[1]||(e[1]=a=>x(y.value.merchant_secret,"å•†æˆ·ç§˜é’¥"))},{default:l(()=>[...e[16]||(e[16]=[s(" å¤åˆ¶ ",-1)])]),_:1})])])]),_:1}),t($,{class:"api-endpoints-card",shadow:"never"},{header:l(()=>[...e[18]||(e[18]=[n("div",{class:"card-header"},[n("span",null,"APIæŽ¥å£")],-1)])]),default:l(()=>[n("div",We,[e[20]||(e[20]=n("label",null,"ä¸‹å•åœ°å€ï¼š",-1)),n("div",Ye,[t(f,{value:"https://api.example.com/v1/payment/create",readonly:"",class:"copy-input"}),t(d,{type:"primary",size:"small",onClick:e[2]||(e[2]=a=>x("https://api.example.com/v1/payment/create","ä¸‹å•åœ°å€"))},{default:l(()=>[...e[19]||(e[19]=[s(" å¤åˆ¶ ",-1)])]),_:1})])]),n("div",Qe,[e[22]||(e[22]=n("label",null,"æŸ¥å•åœ°å€ï¼š",-1)),n("div",Xe,[t(f,{value:"https://api.example.com/v1/payment/query",readonly:"",class:"copy-input"}),t(d,{type:"primary",size:"small",onClick:e[3]||(e[3]=a=>x("https://api.example.com/v1/payment/query","æŸ¥å•åœ°å€"))},{default:l(()=>[...e[21]||(e[21]=[s(" å¤åˆ¶ ",-1)])]),_:1})])]),n("div",Ze,[e[24]||(e[24]=n("label",null,"åœ¨çº¿æ–‡æ¡£ï¼š",-1)),n("div",et,[t(f,{value:"https://docs.example.com/api",readonly:"",class:"copy-input"}),t(d,{type:"primary",size:"small",onClick:e[4]||(e[4]=a=>x("https://docs.example.com/api","åœ¨çº¿æ–‡æ¡£"))},{default:l(()=>[...e[23]||(e[23]=[s(" å¤åˆ¶ ",-1)])]),_:1})])])]),_:1})])):Ee("",!0)]),_:1},8,["modelValue"]),t(ge,{name:"fade"},{default:l(()=>[u(n("div",lt,[t($,{class:"search-card",shadow:"never"},{header:l(()=>[n("div",at,[n("span",nt,[t(h,null,{default:l(()=>[t(o(T))]),_:1}),e[26]||(e[26]=s(" å•†æˆ·æœç´¢ ",-1))]),t(d,{type:"text",onClick:o(B),class:"close-btn"},{default:l(()=>[t(h,null,{default:l(()=>[t(o(Me))]),_:1})]),_:1},8,["onClick"])])]),default:l(()=>[t(ue,{model:c.value,"label-width":"120px",class:"search-form"},{default:l(()=>[t(re,{gutter:20},{default:l(()=>[t(F,{span:6},{default:l(()=>[t(R,{label:"ç™»å½•è´¦å·"},{default:l(()=>[t(f,{modelValue:c.value.login_account,"onUpdate:modelValue":e[7]||(e[7]=a=>c.value.login_account=a),placeholder:"è¯·è¾“å…¥ç™»å½•è´¦å·",clearable:"","prefix-icon":"User"},null,8,["modelValue"])]),_:1})]),_:1}),t(F,{span:6},{default:l(()=>[t(R,{label:"çŠ¶æ€"},{default:l(()=>[t(N,{modelValue:c.value.status,"onUpdate:modelValue":e[8]||(e[8]=a=>c.value.status=a),placeholder:"è¯·é€‰æ‹©çŠ¶æ€",clearable:"",style:{width:"100%"}},{default:l(()=>[t(E,{label:"å¯ç”¨",value:1}),t(E,{label:"ç¦ç”¨",value:0})]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(F,{span:6},{default:l(()=>[t(R,{label:"æçŽ°é…ç½®ç±»åž‹"},{default:l(()=>[t(N,{modelValue:c.value.withdraw_config_type,"onUpdate:modelValue":e[9]||(e[9]=a=>c.value.withdraw_config_type=a),placeholder:"è¯·é€‰æ‹©ç±»åž‹",clearable:"",style:{width:"100%"}},{default:l(()=>[t(E,{label:"ç³»ç»Ÿè§„åˆ™",value:1}),t(E,{label:"å•ç¬”å›ºå®š",value:2}),t(E,{label:"å•ç¬”æ¯”ä¾‹",value:3})]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(F,{span:6},{default:l(()=>[t(R,null,{default:l(()=>[n("div",ot,[t(d,{type:"primary",onClick:ee,loading:D.value},{default:l(()=>[t(h,null,{default:l(()=>[t(o(T))]),_:1}),e[27]||(e[27]=s(" æœç´¢ ",-1))]),_:1},8,["loading"]),t(d,{onClick:te},{default:l(()=>[t(h,null,{default:l(()=>[t(o(K))]),_:1}),e[28]||(e[28]=s(" é‡ç½® ",-1))]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})],512),[[Pe,o(W)]])]),_:1}),n("div",st,[u(t(d,{icon:o(K),onClick:o(V),color:"#40485b"},null,8,["icon","onClick"]),[[p,"merchant:list"]]),u((m(),_(d,{type:"primary",icon:o(Be),onClick:M},{default:l(()=>[...e[29]||(e[29]=[s("æ·»åŠ ",-1)])]),_:1},8,["icon"])),[[p,"merchant:add"]]),u((m(),_(d,{type:"primary",disabled:!o(P),onClick:oe},{default:l(()=>[...e[30]||(e[30]=[s("ç¼–è¾‘",-1)])]),_:1},8,["disabled"])),[[p,"merchant:edit"]]),u((m(),_(d,{type:"danger",disabled:!o(P),onClick:e[10]||(e[10]=a=>ie("/api/v1/admin/merchant/delete"))},{default:l(()=>[...e[31]||(e[31]=[s("åˆ é™¤",-1)])]),_:1},8,["disabled"])),[[p,"merchant:delete"]]),u((m(),_(d,{type:"primary"},{default:l(()=>[e[32]||(e[32]=s(" å¯¼å…¥",-1)),t(h,{class:"el-icon--right"},{default:l(()=>[t(o(Ue))]),_:1})]),_:1})),[[p,"merchant:import"]]),u((m(),_(d,{type:"primary"},{default:l(()=>[e[33]||(e[33]=s(" å¯¼å‡º",-1)),t(h,{class:"el-icon--right"},{default:l(()=>[t(o(Ae))]),_:1})]),_:1})),[[p,"merchant:export"]]),n("div",it,[t(pe,{class:"ml-4"},{default:l(()=>[t(d,{icon:o(T),onClick:o(B)},null,8,["icon","onClick"])]),_:1})])]),n("div",dt,[t(ce,{data:o(g).data,border:"",stripe:"","table-layout":"fixed",style:{width:"100%"},onSelectionChange:o(H)},{default:l(()=>[t(r,{type:"selection",width:"40"}),t(r,{prop:"id",label:"ID",align:"center","min-width":"80"}),t(r,{prop:"merchant_name",label:"å•†æˆ·åç§°",align:"center","min-width":"150"}),t(r,{prop:"login_account",label:"ç™»å½•è´¦å·",align:"center","min-width":"120"}),t(r,{label:"é‡‘é¢ä¿¡æ¯",align:"center","min-width":"200"},{default:l(()=>[t(r,{prop:"withdrawable_amount",label:"å¯æé‡‘é¢",width:"100",align:"center"},{default:l(({row:a})=>[s(v(k(a.withdrawable_amount))+"å…ƒ ",1)]),_:1}),t(r,{prop:"frozen_amount",label:"å†»ç»“é‡‘é¢",width:"100",align:"center"},{default:l(({row:a})=>[s(v(k(a.frozen_amount))+"å…ƒ ",1)]),_:1})]),_:1}),t(r,{label:"é¢„ä»˜ä¿¡æ¯",align:"center","min-width":"200"},{default:l(()=>[t(r,{prop:"prepayment_total",label:"é¢„ä»˜æ€»é¢",width:"100",align:"center"},{default:l(({row:a})=>[s(v(k(a.prepayment_total))+"å…ƒ ",1)]),_:1}),t(r,{prop:"prepayment_remaining",label:"å‰©ä½™é¢„ä»˜",width:"100",align:"center"},{default:l(({row:a})=>[s(v(k(a.prepayment_remaining))+"å…ƒ ",1)]),_:1})]),_:1}),t(r,{label:"æçŽ°é…ç½®",align:"center","min-width":"180"},{default:l(()=>[t(r,{prop:"withdraw_config_type",label:"é…ç½®ç±»åž‹",width:"100",align:"center"},{default:l(({row:a})=>[s(v(ae(a.withdraw_config_type)),1)]),_:1}),t(r,{prop:"withdraw_fee",label:"æçŽ°æ‰‹ç»­è´¹",width:"100",align:"center"},{default:l(({row:a})=>[s(v(k(a.withdraw_fee))+"å…ƒ ",1)]),_:1}),t(r,{prop:"withdraw_rate",label:"æçŽ°è´¹çŽ‡",width:"100",align:"center"},{default:l(({row:a})=>[s(v(le(a.withdraw_rate))+"% ",1)]),_:1})]),_:1}),t(r,{label:"çŠ¶æ€",align:"center","min-width":"80"},{default:l(({row:a})=>[u(t(me,{modelValue:a.status,"onUpdate:modelValue":w=>a.status=w,"active-value":1,"inactive-value":0,onChange:w=>o(Z)("/api/v1/admin/merchant/status-switch",a.id)},null,8,["modelValue","onUpdate:modelValue","onChange"]),[[p,"merchant:toggle_status"]])]),_:1}),t(r,{prop:"created_at",label:"åˆ›å»ºæ—¶é—´",align:"center","min-width":"160"}),t(r,{label:"æ“ä½œ",align:"center",fixed:"right","min-width":"360"},{default:l(a=>[u((m(),_(d,{size:"small",onClick:w=>M(a.row)},{default:l(()=>[...e[34]||(e[34]=[s("ç¼–è¾‘",-1)])]),_:1},8,["onClick"])),[[p,"merchant:edit"]]),u((m(),_(d,{size:"small",type:"info",onClick:w=>ne(a.row)},{default:l(()=>[...e[35]||(e[35]=[s("å¯¹æŽ¥èµ„æ–™",-1)])]),_:1},8,["onClick"])),[[p,"merchant:api_docs"]]),u((m(),_(d,{size:"small",type:"success",onClick:w=>J(a.row)},{default:l(()=>[...e[36]||(e[36]=[s("äº§å“ç®¡ç†",-1)])]),_:1},8,["onClick"])),[[p,"merchant:product_management"]]),u((m(),_(d,{size:"small",type:"danger",onClick:w=>se("/api/v1/admin/merchant/delete",a.row)},{default:l(()=>[...e[37]||(e[37]=[s("åˆ é™¤",-1)])]),_:1},8,["onClick"])),[[p,"merchant:delete"]])]),_:1})]),_:1},8,["data","onSelectionChange"])]),n("div",rt,[n("div",ut,[t(_e,{"current-page":o(g).current_page,"onUpdate:currentPage":e[11]||(e[11]=a=>o(g).current_page=a),"page-size":o(g).page_size,"onUpdate:pageSize":e[12]||(e[12]=a=>o(g).page_size=a),"page-sizes":[10,50,100,200],background:!0,"prev-text":"ä¸Šä¸€é¡µ","next-text":"ä¸‹ä¸€é¡µ",layout:"total, sizes, prev, pager, next, jumper",total:o(g).page_total,onSizeChange:o(Q),onCurrentChange:o(X)},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])])])],64)}}}),xt=Ge(pt,[["__scopeId","data-v-7183046b"]]);export{xt as default};
//# sourceMappingURL=home-DOHky-9g.js.map
