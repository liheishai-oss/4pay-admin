const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/edit-9E_3L6fg.js","assets/index-DQjW5cRd.js","assets/index-BDOPLeYz.css","assets/form-item-l0sNRNKZ.js","assets/supplier-CQrzdiXB.js","assets/edit-DEDNN7hs.css","assets/loading-oV0W9nDj.css","assets/input-BUa0-RC6.css","assets/input-number-CWqCFpc2.css","assets/tag-CtW1DIiB.css","assets/select-Cg3B10gN.css","assets/demo-BnfZZwEM.js","assets/demo-DWkwxsj6.css"])))=>i.map(i=>d[i]);
import{d as X,h as f,y as Z,c as ee,a as e,e as d,u as l,w as a,T as te,F as ae,j as le,z as ne,A as oe,B as se,o as ie,at as z,C as re,a5 as de,i as ue,E as ce,b as me,D as pe,l as _e,v as o,m as fe,J as w,H as R,ag as he,G as ge,I as ve,K as be,L as Ce,Y as y,au as D,g as we}from"./index-DQjW5cRd.js";/* empty css                   *//* empty css            *//* empty css               *//* empty css              *//* empty css                     *//* empty css                 *//* empty css             *//* empty css             */import"./form-item-l0sNRNKZ.js";import{u as ye}from"./table.plugin-DtcfBVC9.js";const ke={class:"table-com-search"},xe={class:"search-header"},Ee={class:"search-title"},Fe={class:"search-buttons"},Ve={class:"table-header ba-scroll-style"},Se={class:"table-search"},ze={style:{width:"100%","overflow-x":"auto"},class:"table-content"},Re={class:"table-footer"},De={class:"table-pagination"},Te=X({__name:"home",setup(Be){const T=z(()=>D(()=>import("./edit-9E_3L6fg.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),h=f(null),k=(s={})=>{h.value&&h.value.open({...s})},B=z(()=>D(()=>import("./demo-BnfZZwEM.js"),__vite__mapDeps([11,1,2,3,12,7]))),g=f(null),I=(s={})=>{console.log(s),g.value?g.value.open({...s}):console.error("ComplaintForm 组件未正确挂载！")},{handleSelectionChange:P,hasSelectedRows:x,isVisible:U,toggleVisibility:E,loadData:$,data:c,refreshData:m,handleSizeChange:A,handleCurrentChange:L,searchParams:F,deleteRows:V,toggleSwitch:N}=ye("/api/v1/admin/payment-channel"),u=f({channel_name:"",product_code:""}),v=f(!1),j=async()=>{v.value=!0;try{F.value={...u.value},await m()}catch(s){console.error("搜索失败:",s),ElMessage.error("搜索失败，请重试")}finally{v.value=!1}},G=()=>{u.value={channel_name:"",product_code:""},F.value={...u.value},m()};Z(()=>$());const M=(s,t)=>{V(s,[t.id])},O=s=>{V(s)};return(s,t)=>{const _=fe,i=le,S=_e,b=pe,C=me,H=ce,J=ue,K=de,Y=ne,r=be,q=Ce,Q=oe,W=se;return ie(),ee(ae,null,[e(l(T),{ref_key:"editFormRef",ref:h,onRefresh:l(m)},null,8,["onRefresh"]),e(l(B),{ref_key:"demoFormRef",ref:g,onRefresh:l(m)},null,8,["onRefresh"]),e(te,{name:"fade"},{default:a(()=>[re(d("div",ke,[e(K,{class:"search-card",shadow:"never"},{header:a(()=>[d("div",xe,[d("span",Ee,[e(_,null,{default:a(()=>[e(l(w))]),_:1}),t[5]||(t[5]=o(" 通道搜索 ",-1))]),e(i,{type:"text",onClick:l(E),class:"close-btn"},{default:a(()=>[e(_,null,{default:a(()=>[e(l(he))]),_:1})]),_:1},8,["onClick"])])]),default:a(()=>[e(J,{model:u.value,"label-width":"100px",class:"search-form"},{default:a(()=>[e(H,{gutter:20},{default:a(()=>[e(C,{span:6},{default:a(()=>[e(b,{label:"通道名称"},{default:a(()=>[e(S,{modelValue:u.value.channel_name,"onUpdate:modelValue":t[0]||(t[0]=n=>u.value.channel_name=n),placeholder:"请输入通道名称",clearable:"","prefix-icon":"Search"},null,8,["modelValue"])]),_:1})]),_:1}),e(C,{span:6},{default:a(()=>[e(b,{label:"产品编码"},{default:a(()=>[e(S,{modelValue:u.value.product_code,"onUpdate:modelValue":t[1]||(t[1]=n=>u.value.product_code=n),placeholder:"请输入产品编码",clearable:"","prefix-icon":"Document"},null,8,["modelValue"])]),_:1})]),_:1}),e(C,{span:6},{default:a(()=>[e(b,null,{default:a(()=>[d("div",Fe,[e(i,{type:"primary",onClick:j,loading:v.value},{default:a(()=>[e(_,null,{default:a(()=>[e(l(w))]),_:1}),t[6]||(t[6]=o(" 搜索 ",-1))]),_:1},8,["loading"]),e(i,{onClick:G},{default:a(()=>[e(_,null,{default:a(()=>[e(l(R))]),_:1}),t[7]||(t[7]=o(" 重置 ",-1))]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})],512),[[ge,l(U)]])]),_:1}),d("div",Ve,[e(i,{icon:l(R),onClick:l(m),color:"#40485b"},null,8,["icon","onClick"]),e(i,{type:"primary",icon:l(ve),onClick:k},{default:a(()=>[...t[8]||(t[8]=[o("添加",-1)])]),_:1},8,["icon"]),e(i,{type:"primary",disabled:!l(x)},{default:a(()=>[...t[9]||(t[9]=[o("编辑",-1)])]),_:1},8,["disabled"]),e(i,{type:"danger",disabled:!l(x),onClick:t[2]||(t[2]=n=>O("/api/v1/admin/payment-channel/batch-delete"))},{default:a(()=>[...t[10]||(t[10]=[o("删除",-1)])]),_:1},8,["disabled"]),d("div",Se,[e(Y,{class:"ml-4"},{default:a(()=>[e(i,{icon:l(w),onClick:l(E)},null,8,["icon","onClick"])]),_:1})])]),d("div",ze,[e(Q,{data:l(c).data,border:"",stripe:"","max-height":"600",style:{width:"100%"},onSelectionChange:l(P)},{default:a(()=>[e(r,{type:"selection",width:"40"}),e(r,{prop:"channel_name",label:"通道名称",align:"center","min-width":"150"}),e(r,{prop:"supplier_name",label:"供应商/预付",align:"center","min-width":"150"},{default:a(({row:n})=>[...t[11]||(t[11]=[o("测试/100",-1)])]),_:1}),e(r,{prop:"product_code",label:"产品编码",align:"center","min-width":"150"}),e(r,{label:"状态",align:"center","min-width":"90"},{default:a(({row:n})=>[e(q,{modelValue:n.status,"onUpdate:modelValue":p=>n.status=p,"active-value":1,"inactive-value":0,onChange:p=>l(N)("/api/v1/admin/payment-channel/status-switch",n.id)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(r,{prop:"weight",label:"权重",align:"center","min-width":"80"}),e(r,{prop:"min_amount",label:"最小金额",align:"center","min-width":"120"},{default:a(({row:n})=>[o(y((n.min_amount/100).toFixed(2)),1)]),_:1}),e(r,{prop:"max_amount",label:"最大金额",align:"center","min-width":"120"},{default:a(({row:n})=>[o(y(n.max_amount===0?"不限制":(n.max_amount/100).toFixed(2)),1)]),_:1}),e(r,{prop:"cost_rate",label:"费率",align:"center","min-width":"100"},{default:a(({row:n})=>[o(y((n.cost_rate/100).toFixed(2)),1)]),_:1}),e(r,{prop:"remark",label:"备注",align:"center","min-width":"150","show-overflow-tooltip":""}),e(r,{label:"操作",align:"center",fixed:"right","min-width":"180"},{default:a(n=>[e(i,{size:"small",onClick:p=>I(n.row)},{default:a(()=>[...t[12]||(t[12]=[o("拉单测试",-1)])]),_:1},8,["onClick"]),e(i,{size:"small",onClick:p=>k(n.row)},{default:a(()=>[...t[13]||(t[13]=[o("编辑",-1)])]),_:1},8,["onClick"]),e(i,{size:"small",type:"danger",onClick:p=>M("/api/v1/admin/payment-channel/batch-delete",n.row)},{default:a(()=>[...t[14]||(t[14]=[o("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data","onSelectionChange"])]),d("div",Re,[d("div",De,[e(W,{"current-page":l(c).current_page,"onUpdate:currentPage":t[3]||(t[3]=n=>l(c).current_page=n),"page-size":l(c).page_size,"onUpdate:pageSize":t[4]||(t[4]=n=>l(c).page_size=n),"page-sizes":[10,50,100,200],background:!0,"prev-text":"上一页","next-text":"下一页",layout:"total, sizes, prev, pager, next, jumper",total:l(c).page_total,onSizeChange:l(A),onCurrentChange:l(L)},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])])])],64)}}}),He=we(Te,[["__scopeId","data-v-b95cb6df"]]);export{He as default};
//# sourceMappingURL=home-PxRggHpi.js.map
