{"version":3,"mappings":"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","names":["EditForm","defineAsyncComponent","__vitePreload","editFormRef","ref","openEditFrom","row","handleSelectionChange","hasSelectedRows","showSearch","toggleSearch","loadData","data","refreshData","handleSizeChange","handleCurrentChange","deleteRows","toggleSwitch","resetSearchParams","useTableDataPlugin","onMounted","handleDelete","api","handleBatchDelete","_createVNode","_unref","_Transition","_withDirectives","_createElementVNode","_hoisted_1","_component_el_row","_component_el_col","_component_el_form_item","_component_el_input","_component_el_form","_component_el_button","_cache","_hoisted_2","Refresh","Plus","_hoisted_3","_component_el_button_group","Search","_hoisted_4","_component_el_table","_component_el_table_column","_withCtx","_component_el_switch","$event","scope","_hoisted_5","_hoisted_6","_component_el_pagination"],"ignoreList":[],"sources":["../../src/pages/telegram/admin/home.vue"],"sourcesContent":["<template>\n  <!-- 添加主体对话框 -->\n  <EditForm ref=\"editFormRef\" @refresh=\"refreshData\"/>\n  <!-- 使用说明 -->\n\n  <!-- 搜索菜单部分的过渡效果 -->\n  <transition name=\"fade\">\n    <div class=\"table-com-search\" v-show=\"showSearch\">\n      <el-row :gutter=\"20\">\n        <el-col :span=\"6\">\n          <el-form-item label=\"编号\">\n            <el-input placeholder=\"按编号搜索\" clearable />\n          </el-form-item>\n        </el-col>\n      </el-row>\n\n      <!-- 搜索按钮和重置按钮 -->\n      <el-form :inline=\"true\" class=\"demo-form-inline\">\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"refreshData\">搜索</el-button>\n          <el-button type=\"primary\" @click=\"resetSearchParams\">重置</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </transition>\n\n  <!-- 表头 -->\n  <div class=\"table-header ba-scroll-style\">\n\n    <!-- 刷新、添加、编辑、删除和导入导出按钮 -->\n    <el-button :icon=\"Refresh\" @click=\"refreshData\" color=\"#40485b\"/>\n    <el-button type=\"primary\" :icon=\"Plus\" @click=\"openEditFrom\">添加</el-button>\n    <el-button type=\"danger\" :disabled=\"!hasSelectedRows\"  @click=\"handleBatchDelete('/api/v1/admin/telegram-admin/delete')\">删除</el-button>\n    <div class=\"table-statistics\">\n      <span class=\"stat-item stat-highlight\">\n        获取 Telegram 用户信息方法：\n        1. 在搜索栏输入 <span class=\"highlight\">@userinfobot</span> 并添加该用户;\n        2. 点击“启动”或发送任意消息，Bot 会返回用户完整信息\n      </span>\n    </div>\n\n    <!-- 搜索按钮 -->\n    <div class=\"table-search\">\n      <el-button-group class=\"ml-4\">\n        <el-button :icon=\"Search\" @click=\"toggleSearch\" />\n      </el-button-group>\n    </div>\n  </div>\n\n  <!-- 表格内容 -->\n  <div style=\"width: 100%; overflow-x: auto;\" class=\"table-content\">\n    <el-table\n        :data=\"data.data\"\n        border\n        stripe\n        max-height=\"600\"\n        style=\"width: 100%;\"\n        @selection-change=\"handleSelectionChange\"\n    >\n      <el-table-column type=\"selection\" width=\"40\"/>\n\n      <el-table-column prop=\"telegram_id\" label=\"Telegram用户ID\" align=\"center\" min-width=\"150\"/>\n      <el-table-column prop=\"nickname\" label=\"昵称\" align=\"center\" min-width=\"150\"/>\n      <el-table-column prop=\"username\" label=\"用户名\" align=\"center\" min-width=\"150\"/>\n\n      <el-table-column label=\"状态\" align=\"center\" min-width=\"90\">\n        <template #default=\"{ row }\">\n          <el-switch\n              v-model=\"row.status\"\n              :active-value=\"1\"\n              :inactive-value=\"0\"\n              @change=\"toggleSwitch('/api/v1/admin/telegram-admin/status-switch', row.id)\"\n          />\n        </template>\n      </el-table-column>\n\n      <el-table-column prop=\"remark\" label=\"备注\" align=\"center\" min-width=\"180\" show-overflow-tooltip/>\n\n      <el-table-column prop=\"created_at\" label=\"创建时间\" align=\"center\" min-width=\"150\"/>\n\n      <el-table-column label=\"操作\" align=\"center\" fixed=\"right\" min-width=\"200\">\n        <template #default=\"scope\">\n          <el-button size=\"small\" @click=\"openEditFrom(scope.row)\">编辑</el-button>\n          <el-button size=\"small\" type=\"danger\" @click=\"handleDelete('/api/v1/admin/telegram-admin/delete', scope.row)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n  </div>\n\n\n\n\n  <!-- 表格分页 -->\n  <div class=\"table-footer\">\n    <div class=\"table-pagination\">\n      <el-pagination\n          v-model:current-page=\"data.current_page\"\n          v-model:page-size=\"data.page_size\"\n          :page-sizes=\"[10, 50, 100, 200]\"\n          :background=\"true\"\n          prev-text=\"上一页\"\n          next-text=\"下一页\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"data.page_total\"\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n      />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { Plus, Refresh, Search } from '@element-plus/icons-vue';\nimport { ref, onMounted,defineAsyncComponent } from 'vue';\n\n\n// 引入自定义插件和 API\nimport { useTableDataPlugin } from \"@/utils/plugins/table.plugin.ts\";\n\n// 导入编辑\nconst EditForm = defineAsyncComponent(() => import('./edit.vue'));\n// 导入编辑页面\nconst editFormRef = ref(null);\nconst openEditFrom = (row = {}) => {\n  console.log(row);\n  if (editFormRef.value) {\n    editFormRef.value.open({ ...row}); // 传递 `row` 作为参数\n  } else {\n    console.error(\"ComplaintForm 组件未正确挂载！\");\n  }\n};\n\n// 使用表格插件来管理表格的状态、数据等\nconst {\n  handleSelectionChange,\n  hasSelectedRows,\n  isVisible: showSearch,\n  toggleVisibility: toggleSearch,\n  loadData,\n  data,\n  refreshData,\n  handleSizeChange,\n  handleCurrentChange,\n  // searchParams,\n  deleteRows,\n  toggleSwitch,\n  resetSearchParams\n} = useTableDataPlugin(\"/api/v1/admin/telegram-admin\");\n\n// 在组件挂载时加载数据\nonMounted(() => {\n  loadData();\n});\n\n// 删除方法：单条删除\nconst handleDelete = (api: string, row: any) => {\n  deleteRows(api,[row.id]);  // 传递一个 id 数组来删除单条记录\n};\n\n// 批量删除\nconst handleBatchDelete = (api: string,) => {\n  deleteRows(api);\n};\n\n</script>\n<style lang=\"scss\" scoped>\n.table-statistics {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  margin-left: 20px;\n  color: red;\n}\n.table-statistics {\n\n    font-size: 14px;\n    color: #606266;             // 深灰色\n    line-height: 1.6;\n    margin-bottom: 4px;         // 步骤间距\n    b, .highlight {\n      color: #409EFF;           // 蓝色高亮\n      font-weight: 500;\n    }\n\n}\n\n</style>"],"file":"assets/home-CAx-Fe-i.js"}