{"version":3,"file":"home-DS4remnd.js","sources":["../../src/pages/system/admin-log/home.vue"],"sourcesContent":["<template>\n  <!-- 搜索菜单部分的过渡效果 -->\n\n  <!-- 表头 -->\n  <div class=\"table-header ba-scroll-style\">\n    <!-- 刷新、添加、编辑、删除和导入导出按钮 -->\n    <el-button :icon=\"Refresh\" @click=\"refreshData\"/>\n    <el-button type=\"danger\" @click=\"handleBatchDelete('/api/v1/admin/system/log/delete')\">删除</el-button>\n\n  </div>\n\n  <!-- 表格内容 -->\n  <div style=\"width: 100%; overflow-x: auto;\" class=\"table-content\">\n <el-table\n      :data=\"data.data\"\n      border\n      stripe\n      table-layout=\"fixed\"\n      height=\"600\"\n      style=\"width: 100%;\"\n    >\n      <!-- 选择列 -->\n      <el-table-column type=\"selection\" width=\"40\" />\n      \n      <!-- 日志字段列 -->\n      <el-table-column prop=\"admin_id\" label=\"管理员ID\" align=\"center\" min-width=\"120\" />\n      <el-table-column prop=\"username\" label=\"管理员用户名\" align=\"center\" min-width=\"150\" />\n      <el-table-column prop=\"route\" label=\"请求路径\" align=\"center\" min-width=\"200\" />\n      <el-table-column prop=\"method\" label=\"请求方法\" align=\"center\" min-width=\"100\" />\n      <el-table-column prop=\"params\" label=\"请求参数\" align=\"center\" min-width=\"200\" />\n      <el-table-column prop=\"ip\" label=\"IP地址\" align=\"center\" min-width=\"120\" />\n      <el-table-column prop=\"user_agent\" label=\"User-Agent\" align=\"center\" min-width=\"200\" />\n      <el-table-column prop=\"created_at\" label=\"操作时间\" align=\"center\" min-width=\"160\" />\n\n      <!-- 操作列 -->\n      <el-table-column label=\"操作\" align=\"center\" fixed=\"right\" min-width=\"140\">\n        <template #default=\"scope\">\n          <el-button size=\"small\" type=\"danger\" @click=\"handleDelete('/api/v1/admin/system/log/delete', scope.row)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n\n\n\n\n  <!-- 表格分页 -->\n  <div class=\"table-footer\">\n    <div class=\"table-pagination\">\n      <el-pagination\n          v-model:current-page=\"data.current_page\"\n          v-model:page-size=\"data.page_size\"\n          :page-sizes=\"[10, 50, 100, 200]\"\n          :background=\"true\"\n          prev-text=\"上一页\"\n          next-text=\"下一页\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"data.page_total\"\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n      />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { Refresh } from '@element-plus/icons-vue';\nimport { onMounted } from 'vue';\n\n\n// 引入自定义插件和 API\nimport { useTableDataPlugin } from \"@/utils/plugins/table.plugin.ts\";\n\n\n// 使用表格插件来管理表格的状态、数据等\nconst {\n  // handleSelectionChange,\n  // hasSelectedRows,\n  loadData,\n  data,\n  refreshData,\n  handleSizeChange,\n  handleCurrentChange,\n  // searchParams,\n  deleteRows,\n  // toggleSwitch,\n  // resetSearchParams\n} = useTableDataPlugin(\"/api/v1/admin/system/log\");\n\n// 在组件挂载时加载数据\nonMounted(() => {\n  loadData();\n});\n\n// 删除方法：单条删除\nconst handleDelete = (api: string, row: any) => {\n  deleteRows(api,[row.id]);  // 传递一个 id 数组来删除单条记录\n};\n\n// 批量删除\nconst handleBatchDelete = (api: string,) => {\n  deleteRows(api);\n};\n\n\n</script>\n\n<style scoped>\n/* 这里可以添加样式 */\n</style>\n"],"names":["loadData","data","refreshData","handleSizeChange","handleCurrentChange","deleteRows","useTableDataPlugin","onMounted","handleDelete","api","row","handleBatchDelete","_createElementVNode","_hoisted_1","_createVNode","_component_el_button","_unref","Refresh","_cache","_hoisted_2","_component_el_table","_component_el_table_column","_withCtx","scope","$event","_hoisted_3","_hoisted_4","_component_el_pagination"],"mappings":"qjBA2EA,KAAM,CAGJ,SAAAA,EACA,KAAAC,EACA,YAAAC,EACA,iBAAAC,EACA,oBAAAC,EAEA,WAAAC,CAAA,EAGEC,EAAmB,0BAA0B,EAGjDC,EAAU,IAAM,CACdP,EAAA,CACF,CAAC,EAGD,MAAMQ,EAAe,CAACC,EAAaC,IAAa,CAC9CL,EAAWI,EAAI,CAACC,EAAI,EAAE,CAAC,CACzB,EAGMC,EAAqBF,GAAiB,CAC1CJ,EAAWI,CAAG,CAChB,2DAlGEG,EAKM,MALNC,EAKM,CAHJC,EAAiDC,EAAA,CAArC,KAAMC,EAAAC,CAAA,EAAU,QAAOD,EAAAd,CAAA,CAAA,6BACnCY,EAAqGC,EAAA,CAA1F,KAAK,SAAU,uBAAOJ,EAAiB,iCAAA,EAAA,aAAqC,IAAE,CAAA,GAAAO,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,GAAF,KAAE,EAAA,CAAA,aAK3FN,EA6BM,MA7BNO,EA6BM,CA5BPL,EA2BcM,EAAA,CA1BR,KAAMJ,EAAAf,CAAA,EAAK,KACZ,OAAA,GACA,OAAA,GACA,eAAa,QACb,OAAO,MACP,MAAA,CAAA,MAAA,MAAA,CAAA,aAGA,IAA+C,CAA/Ca,EAA+CO,EAAA,CAA9B,KAAK,YAAY,MAAM,IAAA,GAGxCP,EAAgFO,EAAA,CAA/D,KAAK,WAAW,MAAM,QAAQ,MAAM,SAAS,YAAU,KAAA,GACxEP,EAAiFO,EAAA,CAAhE,KAAK,WAAW,MAAM,SAAS,MAAM,SAAS,YAAU,KAAA,GACzEP,EAA4EO,EAAA,CAA3D,KAAK,QAAQ,MAAM,OAAO,MAAM,SAAS,YAAU,KAAA,GACpEP,EAA6EO,EAAA,CAA5D,KAAK,SAAS,MAAM,OAAO,MAAM,SAAS,YAAU,KAAA,GACrEP,EAA6EO,EAAA,CAA5D,KAAK,SAAS,MAAM,OAAO,MAAM,SAAS,YAAU,KAAA,GACrEP,EAAyEO,EAAA,CAAxD,KAAK,KAAK,MAAM,OAAO,MAAM,SAAS,YAAU,KAAA,GACjEP,EAAuFO,EAAA,CAAtE,KAAK,aAAa,MAAM,aAAa,MAAM,SAAS,YAAU,KAAA,GAC/EP,EAAiFO,EAAA,CAAhE,KAAK,aAAa,MAAM,OAAO,MAAM,SAAS,YAAU,KAAA,GAGzEP,EAIkBO,EAAA,CAJD,MAAM,KAAK,MAAM,SAAS,MAAM,QAAQ,YAAU,KAAA,GACtD,QAAOC,EACwGC,GADjG,CACvBT,EAAwHC,EAAA,CAA7G,KAAK,QAAQ,KAAK,SAAU,QAAKS,GAAEhB,EAAY,kCAAoCe,EAAM,GAAG,CAAA,aAAG,IAAE,CAAA,GAAAL,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,GAAF,KAAE,EAAA,CAAA,sDAUpHN,EAeM,MAfNa,EAeM,CAdJb,EAaM,MAbNc,EAaM,CAZJZ,EAWEa,EAAA,CAVU,eAAcX,EAAAf,CAAA,EAAK,aAAL,uBAAAiB,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAM,GAAAR,EAAAf,CAAA,EAAK,aAAYuB,GAC/B,YAAWR,EAAAf,CAAA,EAAK,UAAL,oBAAAiB,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAM,GAAAR,EAAAf,CAAA,EAAK,UAASuB,GAChC,aAAY,CAAA,GAAA,GAAA,IAAA,GAAA,EACZ,WAAY,GACb,YAAU,MACV,YAAU,MACV,OAAO,0CACN,MAAOR,EAAAf,CAAA,EAAK,WACZ,aAAae,EAAAb,CAAA,EACb,gBAAgBa,EAAAZ,CAAA,CAAA"}