{"version":3,"file":"search-DzZc6X2U.js","sources":["../../src/pages/trace/search.vue"],"sourcesContent":["<template>\n  <div class=\"trace-search\">\n    <!-- 搜索表单 -->\n    <el-card class=\"search-card\">\n      <el-form :model=\"searchForm\" inline class=\"search-form\">\n        <el-form-item label=\"搜索关键词\">\n          <el-input \n            v-model=\"searchForm.keyword\" \n            placeholder=\"输入平台订单号、商户订单号或Trace ID\"\n            @keyup.enter=\"handleSearch\"\n            clearable\n            style=\"width: 400px\"\n          />\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"handleSearch\" :loading=\"searchLoading\">\n            <el-icon><Search /></el-icon>\n            搜索\n          </el-button>\n          <el-button @click=\"handleReset\">\n            <el-icon><Refresh /></el-icon>\n            重置\n          </el-button>\n        </el-form-item>\n      </el-form>\n    </el-card>\n\n    <!-- 搜索结果 -->\n    <el-card v-if=\"searchResults.length > 0\" class=\"results-card\">\n      <template #header>\n        <div class=\"card-header\">\n          <span>搜索结果 ({{ searchResults.length }} 条)</span>\n        </div>\n      </template>\n      \n      <div v-for=\"trace in searchResults\" :key=\"trace.trace_id\" class=\"trace-item\">\n        <div class=\"trace-header\">\n          <div class=\"trace-info\">\n            <span class=\"trace-id\">{{ trace.trace_id }}</span>\n            <el-tag :type=\"getTraceTypeTag(trace.trace_type)\" size=\"small\">\n              {{ getTraceTypeText(trace.trace_type) }}\n            </el-tag>\n          </div>\n          <div class=\"trace-meta\">\n            <span class=\"order-no\" v-if=\"trace.latest_step?.order_no\">平台订单号: {{ trace.latest_step.order_no }}</span>\n            <span class=\"merchant-order-no\" v-if=\"trace.latest_step?.merchant_order_no\">商户订单号: {{ trace.latest_step.merchant_order_no }}</span>\n            <span class=\"step-count\">步骤数: {{ trace.step_count }}</span>\n            <span class=\"created-time\">{{ formatTime(trace.created_at) }}</span>\n          </div>\n        </div>\n        \n        <div class=\"trace-actions\">\n          <el-button size=\"small\" @click=\"viewTraceDetail(trace)\">\n            <el-icon><View /></el-icon>\n            查看详情\n          </el-button>\n          <el-button size=\"small\" @click=\"viewTraceStatistics(trace)\">\n            <el-icon><DataAnalysis /></el-icon>\n            统计分析\n          </el-button>\n        </div>\n      </div>\n\n      <!-- 分页 -->\n      <div class=\"pagination-wrapper\" v-if=\"pagination.total > 0\">\n        <el-pagination\n          v-model:current-page=\"pagination.page\"\n          v-model:page-size=\"pagination.limit\"\n          :page-sizes=\"[10, 20, 50, 100]\"\n          :total=\"pagination.total\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n        />\n      </div>\n    </el-card>\n\n    <!-- 空状态 -->\n    <el-card v-else-if=\"hasSearched\" class=\"empty-card\">\n      <el-empty description=\"未找到相关链路数据\" />\n    </el-card>\n\n    <!-- 链路详情对话框 -->\n    <el-dialog\n      v-model=\"detailDialogVisible\"\n      :title=\"`链路详情 - ${currentTrace?.trace_id}`\"\n      width=\"80%\"\n      :before-close=\"handleDetailDialogClose\"\n    >\n      <div v-if=\"currentTraceDetail\" class=\"trace-detail\">\n        <!-- 链路概览 -->\n        <el-card class=\"trace-overview\">\n          <template #header>\n            <span>链路概览</span>\n          </template>\n          <div class=\"overview-content\">\n            <div class=\"overview-item\">\n              <span class=\"label\">追踪ID:</span>\n              <span class=\"value\">{{ currentTraceDetail.trace_id }}</span>\n            </div>\n            <div class=\"overview-item\" v-if=\"getOrderNoFromSteps()\">\n              <span class=\"label\">平台订单号:</span>\n              <span class=\"value order-no-value\">{{ getOrderNoFromSteps() }}</span>\n            </div>\n            <div class=\"overview-item\" v-if=\"getMerchantOrderNoFromSteps()\">\n              <span class=\"label\">商户订单号:</span>\n              <span class=\"value merchant-order-no-value\">{{ getMerchantOrderNoFromSteps() }}</span>\n            </div>\n            <div class=\"overview-item\">\n              <span class=\"label\">商户ID:</span>\n              <span class=\"value\">{{ currentTraceDetail.merchant_id }}</span>\n            </div>\n            <div class=\"overview-item\">\n              <span class=\"label\">总步骤数:</span>\n              <span class=\"value\">{{ currentTraceDetail.total_steps }}</span>\n            </div>\n            <div class=\"overview-item\">\n              <span class=\"label\">成功步骤:</span>\n              <span class=\"value success\">{{ currentTraceDetail.success_steps }}</span>\n            </div>\n            <div class=\"overview-item\">\n              <span class=\"label\">失败步骤:</span>\n              <span class=\"value error\">{{ currentTraceDetail.failed_steps }}</span>\n            </div>\n            <div class=\"overview-item\">\n              <span class=\"label\">总耗时:</span>\n              <span class=\"value\">{{ currentTraceDetail.total_duration }}ms</span>\n            </div>\n          </div>\n        </el-card>\n\n        <!-- 步骤时间线 -->\n        <el-card class=\"trace-timeline\">\n          <template #header>\n            <span>步骤时间线</span>\n          </template>\n          <el-timeline>\n            <el-timeline-item\n              v-for=\"(step, index) in currentTraceDetail.steps\"\n              :key=\"index\"\n              :type=\"getStepType(step.step_status)\"\n              :timestamp=\"formatTime(step.created_at)\"\n            >\n              <div class=\"step-content\">\n                <div class=\"step-header\">\n                  <span class=\"step-name\">{{ getStepNameText(step.step_name) }}</span>\n                  <el-tag :type=\"getStepStatusTag(step.step_status)\" size=\"small\">\n                    {{ getStepStatusText(step.step_status) }}\n                  </el-tag>\n                  <span class=\"step-duration\" v-if=\"step.duration_ms > 0\">\n                    耗时: {{ step.duration_ms }}ms\n                  </span>\n                </div>\n                <div class=\"step-data\" v-if=\"step.step_data && Object.keys(step.step_data).length > 0\">\n                  <el-collapse>\n                    <el-collapse-item title=\"步骤数据\">\n                      <pre class=\"step-data-content\">{{ JSON.stringify(step.step_data, null, 2) }}</pre>\n                    </el-collapse-item>\n                  </el-collapse>\n                </div>\n              </div>\n            </el-timeline-item>\n          </el-timeline>\n        </el-card>\n      </div>\n    </el-dialog>\n\n    <!-- 统计分析对话框 -->\n    <el-dialog\n      v-model=\"statisticsDialogVisible\"\n      :title=\"`统计分析 - ${currentTrace?.trace_id}`\"\n      width=\"60%\"\n    >\n      <div v-if=\"currentTraceStatistics\" class=\"trace-statistics\">\n        <el-row :gutter=\"20\">\n          <el-col :span=\"8\">\n            <el-card class=\"stat-card\">\n              <div class=\"stat-item\">\n                <div class=\"stat-value\">{{ currentTraceStatistics.total_steps }}</div>\n                <div class=\"stat-label\">总步骤数</div>\n              </div>\n            </el-card>\n          </el-col>\n          <el-col :span=\"8\">\n            <el-card class=\"stat-card\">\n              <div class=\"stat-item\">\n                <div class=\"stat-value success\">{{ currentTraceStatistics.success_steps }}</div>\n                <div class=\"stat-label\">成功步骤</div>\n              </div>\n            </el-card>\n          </el-col>\n          <el-col :span=\"8\">\n            <el-card class=\"stat-card\">\n              <div class=\"stat-item\">\n                <div class=\"stat-value error\">{{ currentTraceStatistics.failed_steps }}</div>\n                <div class=\"stat-label\">失败步骤</div>\n              </div>\n            </el-card>\n          </el-col>\n        </el-row>\n        \n        <el-row :gutter=\"20\" style=\"margin-top: 20px;\">\n          <el-col :span=\"12\">\n            <el-card class=\"stat-card\">\n              <div class=\"stat-item\">\n                <div class=\"stat-value\">{{ currentTraceStatistics.success_rate }}%</div>\n                <div class=\"stat-label\">成功率</div>\n              </div>\n            </el-card>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-card class=\"stat-card\">\n              <div class=\"stat-item\">\n                <div class=\"stat-value\">{{ currentTraceStatistics.total_duration }}ms</div>\n                <div class=\"stat-label\">总耗时</div>\n              </div>\n            </el-card>\n          </el-col>\n        </el-row>\n\n        <!-- 步骤分解统计 -->\n        <el-card style=\"margin-top: 20px;\">\n          <template #header>\n            <span>步骤分解统计</span>\n          </template>\n          <el-table :data=\"currentTraceStatistics.step_breakdown\" border>\n            <el-table-column prop=\"step_name\" label=\"步骤名称\" />\n            <el-table-column prop=\"count\" label=\"执行次数\" />\n            <el-table-column prop=\"success_count\" label=\"成功次数\" />\n            <el-table-column prop=\"failed_count\" label=\"失败次数\" />\n            <el-table-column prop=\"success_rate\" label=\"成功率\">\n              <template #default=\"{ row }\">\n                <span :class=\"row.success_rate >= 80 ? 'success' : 'error'\">\n                  {{ row.success_rate }}%\n                </span>\n              </template>\n            </el-table-column>\n          </el-table>\n        </el-card>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { ref, reactive } from 'vue';\nimport { ElMessage } from 'element-plus';\nimport { Search, Refresh, View, DataAnalysis } from '@element-plus/icons-vue';\nimport request from '@/utils/request';\n\n// 搜索表单\nconst searchForm = ref({\n  keyword: ''\n});\n\n// 搜索状态\nconst searchLoading = ref(false);\nconst hasSearched = ref(false);\n\n// 搜索结果\nconst searchResults = ref<any[]>([]);\n\n// 分页信息\nconst pagination = reactive({\n  page: 1,\n  limit: 20,\n  total: 0\n});\n\n// 详情对话框\nconst detailDialogVisible = ref(false);\nconst currentTrace = ref<any>(null);\nconst currentTraceDetail = ref<any>(null);\n\n// 统计对话框\nconst statisticsDialogVisible = ref(false);\nconst currentTraceStatistics = ref<any>(null);\n\n// 处理搜索\nconst handleSearch = async () => {\n  if (!searchForm.value.keyword.trim()) {\n    ElMessage.warning('请输入搜索关键词');\n    return;\n  }\n\n  searchLoading.value = true;\n  try {\n    const response = await request.get('/api/v1/admin/trace/search', {\n      params: {\n        keyword: searchForm.value.keyword,\n        page: pagination.page,\n        limit: pagination.limit\n      }\n    });\n\n    if (response.code === 200) {\n      searchResults.value = response.data.traces;\n      pagination.total = response.data.total;\n      hasSearched.value = true;\n    } else {\n      ElMessage.error(response.message || '搜索失败');\n    }\n  } catch (error) {\n    console.error('搜索失败:', error);\n    ElMessage.error('搜索失败，请重试');\n  } finally {\n    searchLoading.value = false;\n  }\n};\n\n// 处理重置\nconst handleReset = () => {\n  searchForm.value.keyword = '';\n  searchResults.value = [];\n  hasSearched.value = false;\n  pagination.page = 1;\n  pagination.total = 0;\n};\n\n// 分页处理\nconst handleSizeChange = (size: number) => {\n  pagination.limit = size;\n  pagination.page = 1;\n  handleSearch();\n};\n\nconst handleCurrentChange = (page: number) => {\n  pagination.page = page;\n  handleSearch();\n};\n\n// 查看链路详情\nconst viewTraceDetail = async (trace: any) => {\n  currentTrace.value = trace;\n  detailDialogVisible.value = true;\n  \n  try {\n    const endpoint = trace.trace_type === 'query' ? 'query' : 'lifecycle';\n    const response = await request.get(`/api/v1/admin/trace/${endpoint}/${trace.trace_id}`);\n    \n    if (response.code === 200) {\n      currentTraceDetail.value = response.data;\n    } else {\n      ElMessage.error(response.message || '获取详情失败');\n    }\n  } catch (error) {\n    console.error('获取详情失败:', error);\n    ElMessage.error('获取详情失败，请重试');\n  }\n};\n\n// 查看统计分析\nconst viewTraceStatistics = async (trace: any) => {\n  currentTrace.value = trace;\n  statisticsDialogVisible.value = true;\n  \n  try {\n    const response = await request.get(`/api/v1/admin/trace/statistics/${trace.trace_id}`, {\n      params: {\n        type: trace.trace_type\n      }\n    });\n    \n    if (response.code === 200) {\n      currentTraceStatistics.value = response.data;\n    } else {\n      ElMessage.error(response.message || '获取统计失败');\n    }\n  } catch (error) {\n    console.error('获取统计失败:', error);\n    ElMessage.error('获取统计失败，请重试');\n  }\n};\n\n// 关闭详情对话框\nconst handleDetailDialogClose = () => {\n  detailDialogVisible.value = false;\n  currentTrace.value = null;\n  currentTraceDetail.value = null;\n};\n\n// 工具函数\nconst getTraceTypeTag = (type: string) => {\n  return type === 'lifecycle' ? 'primary' : 'success';\n};\n\nconst getTraceTypeText = (type: string) => {\n  return type === 'lifecycle' ? '生命周期' : '查询链路';\n};\n\nconst getStepType = (status: string) => {\n  switch (status) {\n    case 'success': return 'success';\n    case 'failed': return 'danger';\n    case 'pending': return 'warning';\n    default: return 'info';\n  }\n};\n\nconst getStepStatusTag = (status: string) => {\n  switch (status) {\n    case 'success': return 'success';\n    case 'failed': return 'danger';\n    case 'pending': return 'warning';\n    default: return 'info';\n  }\n};\n\nconst getStepStatusText = (status: string) => {\n  switch (status) {\n    case 'success': return '成功';\n    case 'failed': return '失败';\n    case 'pending': return '待处理';\n    default: return '未知';\n  }\n};\n\nconst getStepNameText = (stepName: string) => {\n  const nameMap: { [key: string]: string } = {\n    'order_created': '订单创建',\n    'param_validated': '参数验证',\n    'merchant_validated': '商户验证',\n    'product_validated': '产品验证',\n    'channel_selected': '通道选择',\n    'payment_initiated': '支付发起',\n    'payment_success': '支付成功',\n    'payment_failed': '支付失败',\n    'callback_sent': '回调发送',\n    'callback_success': '回调成功',\n    'callback_failed': '回调失败',\n    'order_completed': '订单完成',\n    'order_closed': '订单关闭',\n    'order_timeout': '订单超时',\n    'query_request': '查询请求',\n    'order_found': '订单找到',\n    'order_not_found': '订单未找到',\n    'response_formatted': '响应格式化',\n    'query_completed': '查询完成'\n  };\n  return nameMap[stepName] || stepName;\n};\n\nconst formatTime = (time: string) => {\n  return new Date(time).toLocaleString();\n};\n\n// 从步骤中获取平台订单号\nconst getOrderNoFromSteps = () => {\n  if (!currentTraceDetail.value?.steps) return null;\n  for (const step of currentTraceDetail.value.steps) {\n    if (step.order_no) return step.order_no;\n  }\n  return null;\n};\n\n// 从步骤中获取商户订单号\nconst getMerchantOrderNoFromSteps = () => {\n  if (!currentTraceDetail.value?.steps) return null;\n  for (const step of currentTraceDetail.value.steps) {\n    if (step.merchant_order_no) return step.merchant_order_no;\n  }\n  return null;\n};\n</script>\n\n<style scoped>\n.trace-search {\n  padding: 20px;\n}\n\n.search-card {\n  margin-bottom: 20px;\n}\n\n.search-form {\n  margin: 0;\n}\n\n.results-card {\n  margin-bottom: 20px;\n}\n\n.trace-item {\n  border: 1px solid #e4e7ed;\n  border-radius: 8px;\n  padding: 16px;\n  margin-bottom: 16px;\n  background: #fafafa;\n}\n\n.trace-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 12px;\n}\n\n.trace-info {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.trace-id {\n  font-family: monospace;\n  font-weight: bold;\n  color: #409eff;\n}\n\n.trace-meta {\n  display: flex;\n  gap: 16px;\n  font-size: 14px;\n  color: #666;\n}\n\n.trace-actions {\n  display: flex;\n  gap: 8px;\n}\n\n.pagination-wrapper {\n  margin-top: 20px;\n  text-align: center;\n}\n\n.empty-card {\n  text-align: center;\n  padding: 40px;\n}\n\n.trace-detail {\n  max-height: 70vh;\n  overflow-y: auto;\n}\n\n.trace-overview {\n  margin-bottom: 20px;\n}\n\n.overview-content {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 16px;\n}\n\n.overview-item {\n  display: flex;\n  justify-content: space-between;\n  padding: 8px 0;\n  border-bottom: 1px solid #f0f0f0;\n}\n\n.overview-item .label {\n  font-weight: bold;\n  color: #666;\n}\n\n.overview-item .value {\n  color: #333;\n}\n\n.overview-item .value.success {\n  color: #67c23a;\n}\n\n.overview-item .value.error {\n  color: #f56c6c;\n}\n\n.trace-timeline {\n  margin-top: 20px;\n}\n\n.step-content {\n  padding: 12px;\n  background: #f8f9fa;\n  border-radius: 6px;\n}\n\n.step-header {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  margin-bottom: 8px;\n}\n\n.step-name {\n  font-weight: bold;\n  color: #333;\n}\n\n.step-duration {\n  color: #666;\n  font-size: 12px;\n}\n\n.step-data-content {\n  background: #f5f5f5;\n  padding: 12px;\n  border-radius: 4px;\n  font-size: 12px;\n  max-height: 200px;\n  overflow-y: auto;\n}\n\n.trace-statistics {\n  padding: 20px;\n}\n\n.stat-card {\n  text-align: center;\n}\n\n.stat-item {\n  padding: 20px;\n}\n\n.stat-value {\n  font-size: 24px;\n  font-weight: bold;\n  margin-bottom: 8px;\n}\n\n.stat-value.success {\n  color: #67c23a;\n}\n\n.stat-value.error {\n  color: #f56c6c;\n}\n\n.stat-label {\n  color: #666;\n  font-size: 14px;\n}\n\n.success {\n  color: #67c23a;\n}\n\n.error {\n  color: #f56c6c;\n}\n\n/* 订单号显示样式 */\n.order-no, .merchant-order-no {\n  background: #e6f7ff;\n  color: #1890ff;\n  padding: 2px 6px;\n  border-radius: 3px;\n  font-weight: 500;\n  margin-right: 8px;\n}\n\n.merchant-order-no {\n  background: #f6ffed;\n  color: #52c41a;\n}\n\n/* 详情对话框中的订单号样式 */\n.order-no-value {\n  background: #e6f7ff;\n  color: #1890ff;\n  padding: 4px 8px;\n  border-radius: 4px;\n  font-weight: 500;\n  font-family: 'Courier New', monospace;\n}\n\n.merchant-order-no-value {\n  background: #f6ffed;\n  color: #52c41a;\n  padding: 4px 8px;\n  border-radius: 4px;\n  font-weight: 500;\n  font-family: 'Courier New', monospace;\n}\n</style>\n"],"names":["searchForm","ref","searchLoading","hasSearched","searchResults","pagination","reactive","detailDialogVisible","currentTrace","currentTraceDetail","statisticsDialogVisible","currentTraceStatistics","handleSearch","ElMessage","response","request","error","handleReset","handleSizeChange","size","handleCurrentChange","page","viewTraceDetail","trace","endpoint","viewTraceStatistics","handleDetailDialogClose","getTraceTypeTag","type","getTraceTypeText","getStepType","status","getStepStatusTag","getStepStatusText","getStepNameText","stepName","formatTime","time","getOrderNoFromSteps","_a","step","getMerchantOrderNoFromSteps","_openBlock","_createElementBlock","_hoisted_1","_createVNode","_component_el_card","_component_el_form","_component_el_form_item","_component_el_input","_cache","$event","_component_el_button","_component_el_icon","_unref","Search","Refresh","_createBlock","_createElementVNode","_hoisted_2","_toDisplayString","_Fragment","_renderList","_hoisted_3","_hoisted_4","_hoisted_5","_component_el_tag","_hoisted_6","_hoisted_7","_b","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","View","DataAnalysis","_hoisted_12","_component_el_pagination","_component_el_empty","_component_el_dialog","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_component_el_timeline","index","_component_el_timeline_item","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_component_el_collapse","_component_el_collapse_item","_hoisted_36","_hoisted_37","_component_el_row","_component_el_col","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_component_el_table","_component_el_table_column","_withCtx","row","_normalizeClass"],"mappings":"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"}