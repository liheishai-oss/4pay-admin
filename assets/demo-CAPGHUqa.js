import{ac as lt,d as ct,g as Q,a8 as ft,M as dt,w as q,ad as gt,o as Me,a as S,e as ie,u as ht,i as mt,ae as wt,t as ne,E as pt,b as yt,k as Et,l as Ct,v as _t,c as Bt,j as Rt,af as Nt,x as re,_ as At}from"./index-Cc4fVNof.js";var G={},se,Pe;function bt(){return Pe||(Pe=1,se=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),se}var ae={},z={},Se;function H(){if(Se)return z;Se=1;let r;const o=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return z.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17},z.getSymbolTotalCodewords=function(n){return o[n]},z.getBCHDigit=function(i){let n=0;for(;i!==0;)n++,i>>>=1;return n},z.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');r=n},z.isKanjiModeEnabled=function(){return typeof r<"u"},z.toSJIS=function(n){return r(n)},z}var ue={},qe;function Te(){return qe||(qe=1,(function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function o(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+i)}}r.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},r.from=function(n,e){if(r.isValid(n))return n;try{return o(n)}catch{return e}}})(ue)),ue}var le,Le;function vt(){if(Le)return le;Le=1;function r(){this.buffer=[],this.length=0}return r.prototype={get:function(o){const i=Math.floor(o/8);return(this.buffer[i]>>>7-o%8&1)===1},put:function(o,i){for(let n=0;n<i;n++)this.putBit((o>>>i-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(o){const i=Math.floor(this.length/8);this.buffer.length<=i&&this.buffer.push(0),o&&(this.buffer[i]|=128>>>this.length%8),this.length++}},le=r,le}var ce,De;function It(){if(De)return ce;De=1;function r(o){if(!o||o<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=o,this.data=new Uint8Array(o*o),this.reservedBit=new Uint8Array(o*o)}return r.prototype.set=function(o,i,n,e){const t=o*this.size+i;this.data[t]=n,e&&(this.reservedBit[t]=!0)},r.prototype.get=function(o,i){return this.data[o*this.size+i]},r.prototype.xor=function(o,i,n){this.data[o*this.size+i]^=n},r.prototype.isReserved=function(o,i){return this.reservedBit[o*this.size+i]},ce=r,ce}var fe={},Ue;function Tt(){return Ue||(Ue=1,(function(r){const o=H().getSymbolSize;r.getRowColCoords=function(n){if(n===1)return[];const e=Math.floor(n/7)+2,t=o(n),s=t===145?26:Math.ceil((t-13)/(2*e-2))*2,u=[t-7];for(let a=1;a<e-1;a++)u[a]=u[a-1]-s;return u.push(6),u.reverse()},r.getPositions=function(n){const e=[],t=r.getRowColCoords(n),s=t.length;for(let u=0;u<s;u++)for(let a=0;a<s;a++)u===0&&a===0||u===0&&a===s-1||u===s-1&&a===0||e.push([t[u],t[a]]);return e}})(fe)),fe}var de={},Fe;function Mt(){if(Fe)return de;Fe=1;const r=H().getSymbolSize,o=7;return de.getPositions=function(n){const e=r(n);return[[0,0],[e-o,0],[0,e-o]]},de}var ge={},ke;function Pt(){return ke||(ke=1,(function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const o={N1:3,N2:3,N3:40,N4:10};r.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7},r.from=function(e){return r.isValid(e)?parseInt(e,10):void 0},r.getPenaltyN1=function(e){const t=e.size;let s=0,u=0,a=0,d=null,h=null;for(let N=0;N<t;N++){u=a=0,d=h=null;for(let w=0;w<t;w++){let l=e.get(N,w);l===d?u++:(u>=5&&(s+=o.N1+(u-5)),d=l,u=1),l=e.get(w,N),l===h?a++:(a>=5&&(s+=o.N1+(a-5)),h=l,a=1)}u>=5&&(s+=o.N1+(u-5)),a>=5&&(s+=o.N1+(a-5))}return s},r.getPenaltyN2=function(e){const t=e.size;let s=0;for(let u=0;u<t-1;u++)for(let a=0;a<t-1;a++){const d=e.get(u,a)+e.get(u,a+1)+e.get(u+1,a)+e.get(u+1,a+1);(d===4||d===0)&&s++}return s*o.N2},r.getPenaltyN3=function(e){const t=e.size;let s=0,u=0,a=0;for(let d=0;d<t;d++){u=a=0;for(let h=0;h<t;h++)u=u<<1&2047|e.get(d,h),h>=10&&(u===1488||u===93)&&s++,a=a<<1&2047|e.get(h,d),h>=10&&(a===1488||a===93)&&s++}return s*o.N3},r.getPenaltyN4=function(e){let t=0;const s=e.data.length;for(let a=0;a<s;a++)t+=e.data[a];return Math.abs(Math.ceil(t*100/s/5)-10)*o.N4};function i(n,e,t){switch(n){case r.Patterns.PATTERN000:return(e+t)%2===0;case r.Patterns.PATTERN001:return e%2===0;case r.Patterns.PATTERN010:return t%3===0;case r.Patterns.PATTERN011:return(e+t)%3===0;case r.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(t/3))%2===0;case r.Patterns.PATTERN101:return e*t%2+e*t%3===0;case r.Patterns.PATTERN110:return(e*t%2+e*t%3)%2===0;case r.Patterns.PATTERN111:return(e*t%3+(e+t)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}r.applyMask=function(e,t){const s=t.size;for(let u=0;u<s;u++)for(let a=0;a<s;a++)t.isReserved(a,u)||t.xor(a,u,i(e,a,u))},r.getBestMask=function(e,t){const s=Object.keys(r.Patterns).length;let u=0,a=1/0;for(let d=0;d<s;d++){t(d),r.applyMask(d,e);const h=r.getPenaltyN1(e)+r.getPenaltyN2(e)+r.getPenaltyN3(e)+r.getPenaltyN4(e);r.applyMask(d,e),h<a&&(a=h,u=d)}return u}})(ge)),ge}var oe={},Ve;function it(){if(Ve)return oe;Ve=1;const r=Te(),o=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],i=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return oe.getBlocksCount=function(e,t){switch(t){case r.L:return o[(e-1)*4+0];case r.M:return o[(e-1)*4+1];case r.Q:return o[(e-1)*4+2];case r.H:return o[(e-1)*4+3];default:return}},oe.getTotalCodewordsCount=function(e,t){switch(t){case r.L:return i[(e-1)*4+0];case r.M:return i[(e-1)*4+1];case r.Q:return i[(e-1)*4+2];case r.H:return i[(e-1)*4+3];default:return}},oe}var he={},X={},ze;function St(){if(ze)return X;ze=1;const r=new Uint8Array(512),o=new Uint8Array(256);return(function(){let n=1;for(let e=0;e<255;e++)r[e]=n,o[n]=e,n<<=1,n&256&&(n^=285);for(let e=255;e<512;e++)r[e]=r[e-255]})(),X.log=function(n){if(n<1)throw new Error("log("+n+")");return o[n]},X.exp=function(n){return r[n]},X.mul=function(n,e){return n===0||e===0?0:r[o[n]+o[e]]},X}var Ke;function qt(){return Ke||(Ke=1,(function(r){const o=St();r.mul=function(n,e){const t=new Uint8Array(n.length+e.length-1);for(let s=0;s<n.length;s++)for(let u=0;u<e.length;u++)t[s+u]^=o.mul(n[s],e[u]);return t},r.mod=function(n,e){let t=new Uint8Array(n);for(;t.length-e.length>=0;){const s=t[0];for(let a=0;a<e.length;a++)t[a]^=o.mul(e[a],s);let u=0;for(;u<t.length&&t[u]===0;)u++;t=t.slice(u)}return t},r.generateECPolynomial=function(n){let e=new Uint8Array([1]);for(let t=0;t<n;t++)e=r.mul(e,new Uint8Array([1,o.exp(t)]));return e}})(he)),he}var me,He;function Lt(){if(He)return me;He=1;const r=qt();function o(i){this.genPoly=void 0,this.degree=i,this.degree&&this.initialize(this.degree)}return o.prototype.initialize=function(n){this.degree=n,this.genPoly=r.generateECPolynomial(this.degree)},o.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(n.length+this.degree);e.set(n);const t=r.mod(e,this.genPoly),s=this.degree-t.length;if(s>0){const u=new Uint8Array(this.degree);return u.set(t,s),u}return t},me=o,me}var we={},pe={},ye={},Je;function st(){return Je||(Je=1,ye.isValid=function(o){return!isNaN(o)&&o>=1&&o<=40}),ye}var F={},je;function at(){if(je)return F;je=1;const r="[0-9]+",o="[A-Z $%*+\\-./:]+";let i="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";i=i.replace(/u/g,"\\u");const n="(?:(?![A-Z0-9 $%*+\\-./:]|"+i+`)(?:.|[\r
]))+`;F.KANJI=new RegExp(i,"g"),F.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),F.BYTE=new RegExp(n,"g"),F.NUMERIC=new RegExp(r,"g"),F.ALPHANUMERIC=new RegExp(o,"g");const e=new RegExp("^"+i+"$"),t=new RegExp("^"+r+"$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return F.testKanji=function(a){return e.test(a)},F.testNumeric=function(a){return t.test(a)},F.testAlphanumeric=function(a){return s.test(a)},F}var Oe;function J(){return Oe||(Oe=1,(function(r){const o=st(),i=at();r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(t,s){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!o.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?t.ccBits[0]:s<27?t.ccBits[1]:t.ccBits[2]},r.getBestModeForData=function(t){return i.testNumeric(t)?r.NUMERIC:i.testAlphanumeric(t)?r.ALPHANUMERIC:i.testKanji(t)?r.KANJI:r.BYTE},r.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},r.isValid=function(t){return t&&t.bit&&t.ccBits};function n(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+e)}}r.from=function(t,s){if(r.isValid(t))return t;try{return n(t)}catch{return s}}})(pe)),pe}var Ye;function Dt(){return Ye||(Ye=1,(function(r){const o=H(),i=it(),n=Te(),e=J(),t=st(),s=7973,u=o.getBCHDigit(s);function a(w,l,c){for(let C=1;C<=40;C++)if(l<=r.getCapacity(C,c,w))return C}function d(w,l){return e.getCharCountIndicator(w,l)+4}function h(w,l){let c=0;return w.forEach(function(C){const T=d(C.mode,l);c+=T+C.getBitsLength()}),c}function N(w,l){for(let c=1;c<=40;c++)if(h(w,c)<=r.getCapacity(c,l,e.MIXED))return c}r.from=function(l,c){return t.isValid(l)?parseInt(l,10):c},r.getCapacity=function(l,c,C){if(!t.isValid(l))throw new Error("Invalid QR Code version");typeof C>"u"&&(C=e.BYTE);const T=o.getSymbolTotalCodewords(l),m=i.getTotalCodewordsCount(l,c),I=(T-m)*8;if(C===e.MIXED)return I;const A=I-d(C,l);switch(C){case e.NUMERIC:return Math.floor(A/10*3);case e.ALPHANUMERIC:return Math.floor(A/11*2);case e.KANJI:return Math.floor(A/13);case e.BYTE:default:return Math.floor(A/8)}},r.getBestVersionForData=function(l,c){let C;const T=n.from(c,n.M);if(Array.isArray(l)){if(l.length>1)return N(l,T);if(l.length===0)return 1;C=l[0]}else C=l;return a(C.mode,C.getLength(),T)},r.getEncodedBits=function(l){if(!t.isValid(l)||l<7)throw new Error("Invalid QR Code version");let c=l<<12;for(;o.getBCHDigit(c)-u>=0;)c^=s<<o.getBCHDigit(c)-u;return l<<12|c}})(we)),we}var Ee={},Qe;function Ut(){if(Qe)return Ee;Qe=1;const r=H(),o=1335,i=21522,n=r.getBCHDigit(o);return Ee.getEncodedBits=function(t,s){const u=t.bit<<3|s;let a=u<<10;for(;r.getBCHDigit(a)-n>=0;)a^=o<<r.getBCHDigit(a)-n;return(u<<10|a)^i},Ee}var Ce={},_e,Ge;function Ft(){if(Ge)return _e;Ge=1;const r=J();function o(i){this.mode=r.NUMERIC,this.data=i.toString()}return o.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(n){let e,t,s;for(e=0;e+3<=this.data.length;e+=3)t=this.data.substr(e,3),s=parseInt(t,10),n.put(s,10);const u=this.data.length-e;u>0&&(t=this.data.substr(e),s=parseInt(t,10),n.put(s,u*3+1))},_e=o,_e}var Be,$e;function kt(){if($e)return Be;$e=1;const r=J(),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function i(n){this.mode=r.ALPHANUMERIC,this.data=n}return i.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let s=o.indexOf(this.data[t])*45;s+=o.indexOf(this.data[t+1]),e.put(s,11)}this.data.length%2&&e.put(o.indexOf(this.data[t]),6)},Be=i,Be}var Re,We;function Vt(){if(We)return Re;We=1;const r=J();function o(i){this.mode=r.BYTE,typeof i=="string"?this.data=new TextEncoder().encode(i):this.data=new Uint8Array(i)}return o.getBitsLength=function(n){return n*8},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(i){for(let n=0,e=this.data.length;n<e;n++)i.put(this.data[n],8)},Re=o,Re}var Ne,Ze;function zt(){if(Ze)return Ne;Ze=1;const r=J(),o=H();function i(n){this.mode=r.KANJI,this.data=n}return i.getBitsLength=function(e){return e*13},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(n){let e;for(e=0;e<this.data.length;e++){let t=o.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),n.put(t,13)}},Ne=i,Ne}var Ae={exports:{}},Xe;function Kt(){return Xe||(Xe=1,(function(r){var o={single_source_shortest_paths:function(i,n,e){var t={},s={};s[n]=0;var u=o.PriorityQueue.make();u.push(n,0);for(var a,d,h,N,w,l,c,C,T;!u.empty();){a=u.pop(),d=a.value,N=a.cost,w=i[d]||{};for(h in w)w.hasOwnProperty(h)&&(l=w[h],c=N+l,C=s[h],T=typeof s[h]>"u",(T||C>c)&&(s[h]=c,u.push(h,c),t[h]=d))}if(typeof e<"u"&&typeof s[e]>"u"){var m=["Could not find a path from ",n," to ",e,"."].join("");throw new Error(m)}return t},extract_shortest_path_from_predecessor_list:function(i,n){for(var e=[],t=n;t;)e.push(t),i[t],t=i[t];return e.reverse(),e},find_path:function(i,n,e){var t=o.single_source_shortest_paths(i,n,e);return o.extract_shortest_path_from_predecessor_list(t,e)},PriorityQueue:{make:function(i){var n=o.PriorityQueue,e={},t;i=i||{};for(t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e.queue=[],e.sorter=i.sorter||n.default_sorter,e},default_sorter:function(i,n){return i.cost-n.cost},push:function(i,n){var e={value:i,cost:n};this.queue.push(e),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=o})(Ae)),Ae.exports}var xe;function Ht(){return xe||(xe=1,(function(r){const o=J(),i=Ft(),n=kt(),e=Vt(),t=zt(),s=at(),u=H(),a=Kt();function d(m){return unescape(encodeURIComponent(m)).length}function h(m,I,A){const R=[];let P;for(;(P=m.exec(A))!==null;)R.push({data:P[0],index:P.index,mode:I,length:P[0].length});return R}function N(m){const I=h(s.NUMERIC,o.NUMERIC,m),A=h(s.ALPHANUMERIC,o.ALPHANUMERIC,m);let R,P;return u.isKanjiModeEnabled()?(R=h(s.BYTE,o.BYTE,m),P=h(s.KANJI,o.KANJI,m)):(R=h(s.BYTE_KANJI,o.BYTE,m),P=[]),I.concat(A,R,P).sort(function(_,E){return _.index-E.index}).map(function(_){return{data:_.data,mode:_.mode,length:_.length}})}function w(m,I){switch(I){case o.NUMERIC:return i.getBitsLength(m);case o.ALPHANUMERIC:return n.getBitsLength(m);case o.KANJI:return t.getBitsLength(m);case o.BYTE:return e.getBitsLength(m)}}function l(m){return m.reduce(function(I,A){const R=I.length-1>=0?I[I.length-1]:null;return R&&R.mode===A.mode?(I[I.length-1].data+=A.data,I):(I.push(A),I)},[])}function c(m){const I=[];for(let A=0;A<m.length;A++){const R=m[A];switch(R.mode){case o.NUMERIC:I.push([R,{data:R.data,mode:o.ALPHANUMERIC,length:R.length},{data:R.data,mode:o.BYTE,length:R.length}]);break;case o.ALPHANUMERIC:I.push([R,{data:R.data,mode:o.BYTE,length:R.length}]);break;case o.KANJI:I.push([R,{data:R.data,mode:o.BYTE,length:d(R.data)}]);break;case o.BYTE:I.push([{data:R.data,mode:o.BYTE,length:d(R.data)}])}}return I}function C(m,I){const A={},R={start:{}};let P=["start"];for(let f=0;f<m.length;f++){const _=m[f],E=[];for(let g=0;g<_.length;g++){const b=_[g],p=""+f+g;E.push(p),A[p]={node:b,lastCount:0},R[p]={};for(let B=0;B<P.length;B++){const y=P[B];A[y]&&A[y].node.mode===b.mode?(R[y][p]=w(A[y].lastCount+b.length,b.mode)-w(A[y].lastCount,b.mode),A[y].lastCount+=b.length):(A[y]&&(A[y].lastCount=b.length),R[y][p]=w(b.length,b.mode)+4+o.getCharCountIndicator(b.mode,I))}}P=E}for(let f=0;f<P.length;f++)R[P[f]].end=0;return{map:R,table:A}}function T(m,I){let A;const R=o.getBestModeForData(m);if(A=o.from(I,R),A!==o.BYTE&&A.bit<R.bit)throw new Error('"'+m+'" cannot be encoded with mode '+o.toString(A)+`.
 Suggested mode is: `+o.toString(R));switch(A===o.KANJI&&!u.isKanjiModeEnabled()&&(A=o.BYTE),A){case o.NUMERIC:return new i(m);case o.ALPHANUMERIC:return new n(m);case o.KANJI:return new t(m);case o.BYTE:return new e(m)}}r.fromArray=function(I){return I.reduce(function(A,R){return typeof R=="string"?A.push(T(R,null)):R.data&&A.push(T(R.data,R.mode)),A},[])},r.fromString=function(I,A){const R=N(I,u.isKanjiModeEnabled()),P=c(R),f=C(P,A),_=a.find_path(f.map,"start","end"),E=[];for(let g=1;g<_.length-1;g++)E.push(f.table[_[g]].node);return r.fromArray(l(E))},r.rawSplit=function(I){return r.fromArray(N(I,u.isKanjiModeEnabled()))}})(Ce)),Ce}var et;function Jt(){if(et)return ae;et=1;const r=H(),o=Te(),i=vt(),n=It(),e=Tt(),t=Mt(),s=Pt(),u=it(),a=Lt(),d=Dt(),h=Ut(),N=J(),w=Ht();function l(f,_){const E=f.size,g=t.getPositions(_);for(let b=0;b<g.length;b++){const p=g[b][0],B=g[b][1];for(let y=-1;y<=7;y++)if(!(p+y<=-1||E<=p+y))for(let v=-1;v<=7;v++)B+v<=-1||E<=B+v||(y>=0&&y<=6&&(v===0||v===6)||v>=0&&v<=6&&(y===0||y===6)||y>=2&&y<=4&&v>=2&&v<=4?f.set(p+y,B+v,!0,!0):f.set(p+y,B+v,!1,!0))}}function c(f){const _=f.size;for(let E=8;E<_-8;E++){const g=E%2===0;f.set(E,6,g,!0),f.set(6,E,g,!0)}}function C(f,_){const E=e.getPositions(_);for(let g=0;g<E.length;g++){const b=E[g][0],p=E[g][1];for(let B=-2;B<=2;B++)for(let y=-2;y<=2;y++)B===-2||B===2||y===-2||y===2||B===0&&y===0?f.set(b+B,p+y,!0,!0):f.set(b+B,p+y,!1,!0)}}function T(f,_){const E=f.size,g=d.getEncodedBits(_);let b,p,B;for(let y=0;y<18;y++)b=Math.floor(y/3),p=y%3+E-8-3,B=(g>>y&1)===1,f.set(b,p,B,!0),f.set(p,b,B,!0)}function m(f,_,E){const g=f.size,b=h.getEncodedBits(_,E);let p,B;for(p=0;p<15;p++)B=(b>>p&1)===1,p<6?f.set(p,8,B,!0):p<8?f.set(p+1,8,B,!0):f.set(g-15+p,8,B,!0),p<8?f.set(8,g-p-1,B,!0):p<9?f.set(8,15-p-1+1,B,!0):f.set(8,15-p-1,B,!0);f.set(g-8,8,1,!0)}function I(f,_){const E=f.size;let g=-1,b=E-1,p=7,B=0;for(let y=E-1;y>0;y-=2)for(y===6&&y--;;){for(let v=0;v<2;v++)if(!f.isReserved(b,y-v)){let D=!1;B<_.length&&(D=(_[B]>>>p&1)===1),f.set(b,y-v,D),p--,p===-1&&(B++,p=7)}if(b+=g,b<0||E<=b){b-=g,g=-g;break}}}function A(f,_,E){const g=new i;E.forEach(function(v){g.put(v.mode.bit,4),g.put(v.getLength(),N.getCharCountIndicator(v.mode,f)),v.write(g)});const b=r.getSymbolTotalCodewords(f),p=u.getTotalCodewordsCount(f,_),B=(b-p)*8;for(g.getLengthInBits()+4<=B&&g.put(0,4);g.getLengthInBits()%8!==0;)g.putBit(0);const y=(B-g.getLengthInBits())/8;for(let v=0;v<y;v++)g.put(v%2?17:236,8);return R(g,f,_)}function R(f,_,E){const g=r.getSymbolTotalCodewords(_),b=u.getTotalCodewordsCount(_,E),p=g-b,B=u.getBlocksCount(_,E),y=g%B,v=B-y,D=Math.floor(g/B),k=Math.floor(p/B),x=k+1,$=D-k,ee=new a($);let j=0;const K=new Array(B),W=new Array(B);let O=0;const te=new Uint8Array(f.buffer);for(let U=0;U<B;U++){const V=U<v?k:x;K[U]=te.slice(j,j+V),W[U]=ee.encode(K[U]),j+=V,O=Math.max(O,V)}const Y=new Uint8Array(g);let Z=0,L,M;for(L=0;L<O;L++)for(M=0;M<B;M++)L<K[M].length&&(Y[Z++]=K[M][L]);for(L=0;L<$;L++)for(M=0;M<B;M++)Y[Z++]=W[M][L];return Y}function P(f,_,E,g){let b;if(Array.isArray(f))b=w.fromArray(f);else if(typeof f=="string"){let D=_;if(!D){const k=w.rawSplit(f);D=d.getBestVersionForData(k,E)}b=w.fromString(f,D||40)}else throw new Error("Invalid data");const p=d.getBestVersionForData(b,E);if(!p)throw new Error("The amount of data is too big to be stored in a QR Code");if(!_)_=p;else if(_<p)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+p+`.
`);const B=A(_,E,b),y=r.getSymbolSize(_),v=new n(y);return l(v,_),c(v),C(v,_),m(v,E,0),_>=7&&T(v,_),I(v,B),isNaN(g)&&(g=s.getBestMask(v,m.bind(null,v,E))),s.applyMask(g,v),m(v,E,g),{modules:v,version:_,errorCorrectionLevel:E,maskPattern:g,segments:b}}return ae.create=function(_,E){if(typeof _>"u"||_==="")throw new Error("No input text");let g=o.M,b,p;return typeof E<"u"&&(g=o.from(E.errorCorrectionLevel,o.M),b=d.from(E.version),p=s.from(E.maskPattern),E.toSJISFunc&&r.setToSJISFunction(E.toSJISFunc)),P(_,b,g,p)},ae}var be={},ve={},tt;function ut(){return tt||(tt=1,(function(r){function o(i){if(typeof i=="number"&&(i=i.toString()),typeof i!="string")throw new Error("Color should be defined as hex string");let n=i.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+i);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(t){return[t,t]}))),n.length===6&&n.push("F","F");const e=parseInt(n.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:e&255,hex:"#"+n.slice(0,6).join("")}}r.getOptions=function(n){n||(n={}),n.color||(n.color={});const e=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,t=n.width&&n.width>=21?n.width:void 0,s=n.scale||4;return{width:t,scale:t?4:s,margin:e,color:{dark:o(n.color.dark||"#000000ff"),light:o(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},r.getScale=function(n,e){return e.width&&e.width>=n+e.margin*2?e.width/(n+e.margin*2):e.scale},r.getImageWidth=function(n,e){const t=r.getScale(n,e);return Math.floor((n+e.margin*2)*t)},r.qrToImageData=function(n,e,t){const s=e.modules.size,u=e.modules.data,a=r.getScale(s,t),d=Math.floor((s+t.margin*2)*a),h=t.margin*a,N=[t.color.light,t.color.dark];for(let w=0;w<d;w++)for(let l=0;l<d;l++){let c=(w*d+l)*4,C=t.color.light;if(w>=h&&l>=h&&w<d-h&&l<d-h){const T=Math.floor((w-h)/a),m=Math.floor((l-h)/a);C=N[u[T*s+m]?1:0]}n[c++]=C.r,n[c++]=C.g,n[c++]=C.b,n[c]=C.a}}})(ve)),ve}var nt;function jt(){return nt||(nt=1,(function(r){const o=ut();function i(e,t,s){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=s,t.width=s,t.style.height=s+"px",t.style.width=s+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(t,s,u){let a=u,d=s;typeof a>"u"&&(!s||!s.getContext)&&(a=s,s=void 0),s||(d=n()),a=o.getOptions(a);const h=o.getImageWidth(t.modules.size,a),N=d.getContext("2d"),w=N.createImageData(h,h);return o.qrToImageData(w.data,t,a),i(N,d,h),N.putImageData(w,0,0),d},r.renderToDataURL=function(t,s,u){let a=u;typeof a>"u"&&(!s||!s.getContext)&&(a=s,s=void 0),a||(a={});const d=r.render(t,s,a),h=a.type||"image/png",N=a.rendererOpts||{};return d.toDataURL(h,N.quality)}})(be)),be}var Ie={},rt;function Ot(){if(rt)return Ie;rt=1;const r=ut();function o(e,t){const s=e.a/255,u=t+'="'+e.hex+'"';return s<1?u+" "+t+'-opacity="'+s.toFixed(2).slice(1)+'"':u}function i(e,t,s){let u=e+t;return typeof s<"u"&&(u+=" "+s),u}function n(e,t,s){let u="",a=0,d=!1,h=0;for(let N=0;N<e.length;N++){const w=Math.floor(N%t),l=Math.floor(N/t);!w&&!d&&(d=!0),e[N]?(h++,N>0&&w>0&&e[N-1]||(u+=d?i("M",w+s,.5+l+s):i("m",a,0),a=0,d=!1),w+1<t&&e[N+1]||(u+=i("h",h),h=0)):a++}return u}return Ie.render=function(t,s,u){const a=r.getOptions(s),d=t.modules.size,h=t.modules.data,N=d+a.margin*2,w=a.color.light.a?"<path "+o(a.color.light,"fill")+' d="M0 0h'+N+"v"+N+'H0z"/>':"",l="<path "+o(a.color.dark,"stroke")+' d="'+n(h,d,a.margin)+'"/>',c='viewBox="0 0 '+N+" "+N+'"',T='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+c+' shape-rendering="crispEdges">'+w+l+`</svg>
`;return typeof u=="function"&&u(null,T),T},Ie}var ot;function Yt(){if(ot)return G;ot=1;const r=bt(),o=Jt(),i=jt(),n=Ot();function e(t,s,u,a,d){const h=[].slice.call(arguments,1),N=h.length,w=typeof h[N-1]=="function";if(!w&&!r())throw new Error("Callback required as last argument");if(w){if(N<2)throw new Error("Too few arguments provided");N===2?(d=u,u=s,s=a=void 0):N===3&&(s.getContext&&typeof d>"u"?(d=a,a=void 0):(d=a,a=u,u=s,s=void 0))}else{if(N<1)throw new Error("Too few arguments provided");return N===1?(u=s,s=a=void 0):N===2&&!s.getContext&&(a=u,u=s,s=void 0),new Promise(function(l,c){try{const C=o.create(u,a);l(t(C,s,a))}catch(C){c(C)}})}try{const l=o.create(u,a);d(null,t(l,s,a))}catch(l){d(l)}}return G.create=o.create,G.toCanvas=e.bind(null,i.render),G.toDataURL=e.bind(null,i.renderToDataURL),G.toString=e.bind(null,function(t,s,u){return n.render(t,u)}),G}var Qt=Yt();const Gt=lt(Qt),$t={class:"test-result-container"},Wt={key:0,class:"qrcode-container"},Zt=["src"],Xt=ct({__name:"demo",setup(r,{expose:o}){const i=Q(!1),n=Q(),e=Q({id:0,channel_name:"",product_code:"",payment_amount:0}),t=Q({success:!1,message:"",request_params:{},channel_response:{},qr_code_url:""}),s=Q(""),u=Q({channel_name:[{required:!0,message:"请输入通道名称",trigger:"blur"}],payment_amount:[{required:!0,message:"请输入支付金额",trigger:"blur",validator:(l,c,C)=>{!c||isNaN(Number(c))||Number(c)<=0?C(new Error("请输入有效的支付金额")):C()}}]}),a=async(l={})=>{N(),w();const c={id:0,...l};Object.assign(e.value,c),i.value=!0},d=async()=>{var c,C,T,m,I,A,R,P,f,_,E,g,b,p,B,y,v,D,k,x,$,ee,j,K,W,O,te,Y,Z;await((c=n.value)==null?void 0:c.validate());let l={};try{w();const L=Number(e.value.payment_amount);l={channel_id:e.value.id||0,channel_name:((T=(C=e.value.channel_name)==null?void 0:C.trim)==null?void 0:T.call(C))||e.value.channel_name,product_code:((I=(m=e.value.product_code)==null?void 0:m.trim)==null?void 0:I.call(m))||e.value.product_code,payment_amount:L>0?L:1},Object.keys(l).forEach(V=>{(l[V]===void 0||l[V]===""||l[V]===null)&&delete l[V]});let M=await Nt("/api/v1/admin/payment-channel/test",l);const U=((R=(A=M.data)==null?void 0:A.data)==null?void 0:R.status)===!0;t.value={success:U,message:((f=(P=M.data)==null?void 0:P.data)==null?void 0:f.message)||((_=M.data)==null?void 0:_.message)||M.message||(U?"测试成功":"测试失败"),request_params:((E=M.data)==null?void 0:E.header)||{},channel_response:((b=(g=M.data)==null?void 0:g.raw_response)==null?void 0:b.original_response)||((p=M.data)==null?void 0:p.data)||{},qr_code_url:((y=(B=M.data)==null?void 0:B.data)==null?void 0:y.qr_code)||((v=M.data)==null?void 0:v.url)||""},U?(re.success(((k=(D=M.data)==null?void 0:D.data)==null?void 0:k.message)||((x=M.data)==null?void 0:x.message)||M.message||"测试成功"),((ee=($=M.data)==null?void 0:$.data)!=null&&ee.qr_code||(j=M.data)!=null&&j.url)&&h(((W=(K=M.data)==null?void 0:K.data)==null?void 0:W.qr_code)||((O=M.data)==null?void 0:O.url))):re.error(((Y=(te=M.data)==null?void 0:te.data)==null?void 0:Y.message)||((Z=M.data)==null?void 0:Z.message)||M.message||"测试失败")}catch(L){console.error("测试失败:",L),t.value={success:!1,message:"测试失败："+(L.message||"未知错误"),request_params:l,channel_response:{},qr_code_url:""},re.error("测试失败")}},h=l=>{Gt.toDataURL(l,(c,C)=>{if(c){re.error("生成二维码失败"),console.error(c);return}s.value=C})},N=()=>{e.value={id:0,channel_name:"",product_code:"",payment_amount:1}},w=()=>{t.value={success:!1,message:"",request_params:{},channel_response:{},qr_code_url:""},s.value=""};return ft(i,(l,c)=>{c===!0&&l===!1&&(N(),w())}),o({open:a}),(l,c)=>{const C=wt,T=Ct,m=Et,I=yt,A=pt,R=_t,P=gt;return Me(),dt(P,{modelValue:i.value,"onUpdate:modelValue":c[4]||(c[4]=f=>i.value=f),title:"通道测试",size:"70%"},{default:q(()=>[S(ht(mt),{model:e.value,rules:u.value,ref_key:"formRef",ref:n,"label-width":"120px"},{default:q(()=>[S(C,{"content-position":"left"},{default:q(()=>[...c[5]||(c[5]=[ne("测试参数",-1)])]),_:1}),S(A,{gutter:20},{default:q(()=>[S(I,{span:12},{default:q(()=>[S(m,{label:"通道名称",prop:"channel_name"},{default:q(()=>[S(T,{modelValue:e.value.channel_name,"onUpdate:modelValue":c[0]||(c[0]=f=>e.value.channel_name=f),placeholder:"请输入通道名称"},null,8,["modelValue"])]),_:1})]),_:1}),S(I,{span:12},{default:q(()=>[S(m,{label:"产品编号"},{default:q(()=>[S(T,{modelValue:e.value.product_code,"onUpdate:modelValue":c[1]||(c[1]=f=>e.value.product_code=f),placeholder:"产品编号不可编辑",disabled:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),S(m,{label:"金额(元)",prop:"payment_amount"},{default:q(()=>[S(T,{modelValue:e.value.payment_amount,"onUpdate:modelValue":c[2]||(c[2]=f=>e.value.payment_amount=f),placeholder:"请输入测试金额"},{append:q(()=>[...c[6]||(c[6]=[ne("元",-1)])]),_:1},8,["modelValue"])]),_:1}),S(m,null,{default:q(()=>[S(R,{type:"primary",onClick:d,loading:!1},{default:q(()=>[...c[7]||(c[7]=[ne("开始测试",-1)])]),_:1})]),_:1})]),_:1},8,["model","rules"]),ie("div",$t,[S(C,{"content-position":"left"},{default:q(()=>[...c[8]||(c[8]=[ne("测试结果",-1)])]),_:1}),S(m,{label:"测试结果"},{default:q(()=>[S(T,{modelValue:t.value.message,"onUpdate:modelValue":c[3]||(c[3]=f=>t.value.message=f),type:"textarea",rows:3,placeholder:"测试结果将显示在这里",readonly:""},null,8,["modelValue"])]),_:1}),S(m,{label:"请求参数"},{default:q(()=>[S(T,{value:JSON.stringify(t.value.request_params,null,2),type:"textarea",rows:6,placeholder:"请求参数将显示在这里",readonly:"",class:"json-display"},null,8,["value"])]),_:1}),S(m,{label:"通道响应"},{default:q(()=>[S(T,{value:JSON.stringify(t.value.channel_response,null,2),type:"textarea",rows:6,placeholder:"通道响应将显示在这里",readonly:"",class:"json-display"},null,8,["value"])]),_:1}),s.value?(Me(),Bt("div",Wt,[c[9]||(c[9]=ie("h4",null,"支付二维码",-1)),ie("img",{src:s.value,alt:"QRCode"},null,8,Zt)])):Rt("",!0)])]),_:1},8,["modelValue"])}}}),en=At(Xt,[["__scopeId","data-v-668fd906"]]);export{en as default};
//# sourceMappingURL=demo-CAPGHUqa.js.map
