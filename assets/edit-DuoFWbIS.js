import{d as k,g as i,aj as C,i as h,w as o,b6 as D,D as r,C as U,o as B,a as t,u as F,x as I,y as N,z as q,X as R,a3 as S,q as j,n as f,b7 as z}from"./index-BwnaPa-Z.js";/* empty css                     */const A=k({__name:"edit",emits:["refresh"],setup(M,{expose:v,emit:_}){const u=i(!1),d=i(),a=i({id:0,name:"",weight:0}),c=i({name:[{required:!0,message:"请输入名称"}]}),g=_,w=async l=>{if(console.log("详情",l),u.value=!0,l.id&&l.id!==0){const e=await D("/api/v1/admin/product_type/detail",l.id);e.status&&e.data?a.value={...e.data}:r.error(e.message||"获取数据失败")}else m(),a.value.id=0},V=async()=>{var e;await((e=d.value)==null?void 0:e.validate());const l=await z("/api/v1/admin/product_type/save",a.value);l.status?(r.success(l.message),g("refresh"),u.value=!1):r.error(l.message||"保存失败")},m=()=>{a.value={id:0,name:"",weight:0}};return C(u,l=>{l||m()}),v({open:w}),(l,e)=>{const b=q,n=N,y=R,E=S,p=j,x=U;return B(),h(x,{modelValue:u.value,"onUpdate:modelValue":e[3]||(e[3]=s=>u.value=s),title:"添加/编辑产品类型",width:"40%"},{default:o(()=>[t(F(I),{model:a.value,"label-width":"100px",rules:c.value,ref_key:"formRef",ref:d},{default:o(()=>[t(n,{label:"类型名称",prop:"name"},{default:o(()=>[t(b,{modelValue:a.value.name,"onUpdate:modelValue":e[0]||(e[0]=s=>a.value.name=s),placeholder:"请输入类型名称"},null,8,["modelValue"])]),_:1}),t(n,{label:"是否启用",prop:"status"},{default:o(()=>[t(y,{modelValue:a.value.status,"onUpdate:modelValue":e[1]||(e[1]=s=>a.value.status=s),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1}),t(n,{label:"权重",prop:"weight"},{default:o(()=>[t(E,{modelValue:a.value.weight,"onUpdate:modelValue":e[2]||(e[2]=s=>a.value.weight=s),min:0},null,8,["modelValue"])]),_:1}),t(n,null,{default:o(()=>[t(p,{type:"primary",onClick:V},{default:o(()=>[...e[4]||(e[4]=[f("提交",-1)])]),_:1}),t(p,{onClick:m},{default:o(()=>[...e[5]||(e[5]=[f("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])}}});export{A as default};
//# sourceMappingURL=edit-DuoFWbIS.js.map
