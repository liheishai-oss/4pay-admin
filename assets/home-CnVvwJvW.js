const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/edit-D_GGhhSa.js","assets/index-DSzZq5R0.js","assets/index-qjTWfGgT.css","assets/supplier-CsgXNSIj.js","assets/edit-DEDNN7hs.css","assets/loading-oV0W9nDj.css","assets/input-number-CWqCFpc2.css","assets/select-Cg3B10gN.css","assets/demo-BlFOU8v6.js","assets/demo-DWkwxsj6.css"])))=>i.map(i=>d[i]);
import{d as Y,g as f,L as Z,c as ee,a as e,e as d,u as l,w as t,T as ae,M as te,q as le,N as ne,O as oe,P as se,o as ie,av as R,Q as re,a1 as de,x as ue,E as ce,b as me,y as _e,z as pe,n as o,k as fe,V as w,S as z,ai as he,R as ge,U as ve,W as be,X as Ce,t as y,aw as D,_ as we}from"./index-DSzZq5R0.js";/* empty css                   *//* empty css               *//* empty css                     *//* empty css                 */import{u as ye}from"./table.plugin-C_WHYkfe.js";const ke={class:"table-com-search"},xe={class:"search-header"},Ee={class:"search-title"},Ve={class:"search-buttons"},Se={class:"table-header ba-scroll-style"},Fe={class:"table-search"},Re={style:{width:"100%","overflow-x":"auto"},class:"table-content"},ze={class:"table-footer"},De={class:"table-pagination"},Pe=Y({__name:"home",setup(Te){const P=R(()=>D(()=>import("./edit-D_GGhhSa.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),h=f(null),k=(s={})=>{h.value&&h.value.open({...s})},T=R(()=>D(()=>import("./demo-BlFOU8v6.js"),__vite__mapDeps([8,1,2,9]))),g=f(null),U=(s={})=>{console.log(s),g.value?g.value.open({...s}):console.error("ComplaintForm 组件未正确挂载！")},{handleSelectionChange:B,hasSelectedRows:x,isVisible:I,toggleVisibility:E,loadData:$,data:c,refreshData:m,handleSizeChange:L,handleCurrentChange:N,searchParams:V,deleteRows:S,toggleSwitch:A}=ye("/api/v1/admin/payment-channel"),u=f({channel_name:"",product_code:""}),v=f(!1),M=async()=>{v.value=!0;try{V.value={...u.value},await m()}catch(s){console.error("搜索失败:",s),ElMessage.error("搜索失败，请重试")}finally{v.value=!1}},O=()=>{u.value={channel_name:"",product_code:""},V.value={...u.value},m()};Z(()=>$());const j=(s,a)=>{S(s,[a.id])},q=s=>{S(s)};return(s,a)=>{const p=fe,i=le,F=pe,b=_e,C=me,G=ce,Q=ue,W=de,X=ne,r=be,H=Ce,J=oe,K=se;return ie(),ee(te,null,[e(l(P),{ref_key:"editFormRef",ref:h,onRefresh:l(m)},null,8,["onRefresh"]),e(l(T),{ref_key:"demoFormRef",ref:g,onRefresh:l(m)},null,8,["onRefresh"]),e(ae,{name:"fade"},{default:t(()=>[re(d("div",ke,[e(W,{class:"search-card",shadow:"never"},{header:t(()=>[d("div",xe,[d("span",Ee,[e(p,null,{default:t(()=>[e(l(w))]),_:1}),a[5]||(a[5]=o(" 通道搜索 ",-1))]),e(i,{type:"text",onClick:l(E),class:"close-btn"},{default:t(()=>[e(p,null,{default:t(()=>[e(l(he))]),_:1})]),_:1},8,["onClick"])])]),default:t(()=>[e(Q,{model:u.value,"label-width":"100px",class:"search-form"},{default:t(()=>[e(G,{gutter:20},{default:t(()=>[e(C,{span:6},{default:t(()=>[e(b,{label:"通道名称"},{default:t(()=>[e(F,{modelValue:u.value.channel_name,"onUpdate:modelValue":a[0]||(a[0]=n=>u.value.channel_name=n),placeholder:"请输入通道名称",clearable:"","prefix-icon":"Search"},null,8,["modelValue"])]),_:1})]),_:1}),e(C,{span:6},{default:t(()=>[e(b,{label:"产品编码"},{default:t(()=>[e(F,{modelValue:u.value.product_code,"onUpdate:modelValue":a[1]||(a[1]=n=>u.value.product_code=n),placeholder:"请输入产品编码",clearable:"","prefix-icon":"Document"},null,8,["modelValue"])]),_:1})]),_:1}),e(C,{span:6},{default:t(()=>[e(b,null,{default:t(()=>[d("div",Ve,[e(i,{type:"primary",onClick:M,loading:v.value},{default:t(()=>[e(p,null,{default:t(()=>[e(l(w))]),_:1}),a[6]||(a[6]=o(" 搜索 ",-1))]),_:1},8,["loading"]),e(i,{onClick:O},{default:t(()=>[e(p,null,{default:t(()=>[e(l(z))]),_:1}),a[7]||(a[7]=o(" 重置 ",-1))]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})],512),[[ge,l(I)]])]),_:1}),d("div",Se,[e(i,{icon:l(z),onClick:l(m),color:"#40485b"},null,8,["icon","onClick"]),e(i,{type:"primary",icon:l(ve),onClick:k},{default:t(()=>[...a[8]||(a[8]=[o("添加",-1)])]),_:1},8,["icon"]),e(i,{type:"primary",disabled:!l(x)},{default:t(()=>[...a[9]||(a[9]=[o("编辑",-1)])]),_:1},8,["disabled"]),e(i,{type:"danger",disabled:!l(x),onClick:a[2]||(a[2]=n=>q("/api/v1/admin/payment-channel/batch-delete"))},{default:t(()=>[...a[10]||(a[10]=[o("删除",-1)])]),_:1},8,["disabled"]),d("div",Fe,[e(X,{class:"ml-4"},{default:t(()=>[e(i,{icon:l(w),onClick:l(E)},null,8,["icon","onClick"])]),_:1})])]),d("div",Re,[e(J,{data:l(c).data,border:"",stripe:"","max-height":"600",style:{width:"100%"},onSelectionChange:l(B)},{default:t(()=>[e(r,{type:"selection",width:"40"}),e(r,{prop:"channel_name",label:"通道名称",align:"center","min-width":"150"}),e(r,{prop:"supplier_name",label:"供应商/预付",align:"center","min-width":"150"},{default:t(({row:n})=>[...a[11]||(a[11]=[o("测试/100",-1)])]),_:1}),e(r,{prop:"product_code",label:"产品编码",align:"center","min-width":"150"}),e(r,{label:"状态",align:"center","min-width":"90"},{default:t(({row:n})=>[e(H,{modelValue:n.status,"onUpdate:modelValue":_=>n.status=_,"active-value":1,"inactive-value":0,onChange:_=>l(A)("/api/v1/admin/payment-channel/status-switch",n.id)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(r,{prop:"weight",label:"权重",align:"center","min-width":"80"}),e(r,{prop:"min_amount",label:"最小金额",align:"center","min-width":"120"},{default:t(({row:n})=>[o(y((n.min_amount/100).toFixed(2)),1)]),_:1}),e(r,{prop:"max_amount",label:"最大金额",align:"center","min-width":"120"},{default:t(({row:n})=>[o(y(n.max_amount===0?"不限制":(n.max_amount/100).toFixed(2)),1)]),_:1}),e(r,{prop:"cost_rate",label:"费率",align:"center","min-width":"100"},{default:t(({row:n})=>[o(y((n.cost_rate/100).toFixed(2)),1)]),_:1}),e(r,{prop:"remark",label:"备注",align:"center","min-width":"150","show-overflow-tooltip":""}),e(r,{label:"操作",align:"center",fixed:"right","min-width":"180"},{default:t(n=>[e(i,{size:"small",onClick:_=>U(n.row)},{default:t(()=>[...a[12]||(a[12]=[o("拉单测试",-1)])]),_:1},8,["onClick"]),e(i,{size:"small",onClick:_=>k(n.row)},{default:t(()=>[...a[13]||(a[13]=[o("编辑",-1)])]),_:1},8,["onClick"]),e(i,{size:"small",type:"danger",onClick:_=>j("/api/v1/admin/payment-channel/batch-delete",n.row)},{default:t(()=>[...a[14]||(a[14]=[o("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data","onSelectionChange"])]),d("div",ze,[d("div",De,[e(K,{"current-page":l(c).current_page,"onUpdate:currentPage":a[3]||(a[3]=n=>l(c).current_page=n),"page-size":l(c).page_size,"onUpdate:pageSize":a[4]||(a[4]=n=>l(c).page_size=n),"page-sizes":[10,50,100,200],background:!0,"prev-text":"上一页","next-text":"下一页",layout:"total, sizes, prev, pager, next, jumper",total:l(c).page_total,onSizeChange:l(L),onCurrentChange:l(N)},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])])])],64)}}}),Ae=we(Pe,[["__scopeId","data-v-b95cb6df"]]);export{Ae as default};
//# sourceMappingURL=home-CnVvwJvW.js.map
