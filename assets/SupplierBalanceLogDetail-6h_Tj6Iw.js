import{d as M,g as y,i as f,w as a,D as j,o as d,Q as q,c as p,e as t,j as _,a as s,E as P,b as Q,t as i,aF as R,n as u,a8 as U,ac as G,au as H,q as J,_ as K}from"./index-BpE__OAv.js";/* empty css                */const W={class:"detail-container"},X={class:"detail-section"},Y={class:"detail-item"},Z={class:"detail-item"},h={key:1},ee={class:"detail-item"},te={class:"detail-item"},le={class:"detail-section"},ae={class:"detail-item"},se={class:"detail-item"},oe={class:"detail-item"},ne={class:"detail-section"},ie={class:"detail-item"},de={class:"detail-item"},ue={class:"detail-item"},re={class:"detail-item"},pe={key:0,class:"detail-section"},_e={class:"detail-item"},ve={class:"detail-item"},me={key:1,class:"detail-section"},fe={class:"detail-item"},ce={class:"remark-content"},ge={key:2,class:"detail-section"},be={class:"detail-item"},ye={class:"telegram-message"},ke={class:"dialog-footer"},we=M({__name:"SupplierBalanceLogDetail",emits:["refresh"],setup(Te,{expose:T,emit:x}){const v=y(!1),C=y(!1),l=y({id:0,supplier_id:0,operation_type:1,amount:0,balance_before:0,balance_after:0,operator_type:1,operator_id:null,operator_name:"",order_id:null,order_no:"",remark:"",telegram_message:"",ip_address:"",user_agent:"",created_at:"",updated_at:"",supplier:null,order:null}),D=[{label:"预付",value:1},{label:"下发",value:2},{label:"订单扣款",value:3},{label:"退款",value:4},{label:"系统调整",value:5}],E=[{label:"管理员",value:1},{label:"系统",value:2},{label:"订单",value:3}],B=o=>{const e=D.find(n=>n.value===o);return e?e.label:"未知"},V=o=>{const e=E.find(n=>n.value===o);return e?e.label:"未知"},c=o=>(o/100).toFixed(2),L=o=>new Date(o).toLocaleString("zh-CN"),O=o=>o>0?"text-success":"text-danger",S=o=>({1:"success",2:"warning",3:"info",4:"danger",5:""})[o]||"",$=o=>{l.value={...o},v.value=!0},g=()=>{v.value=!1},N=o=>{o&&window.open(`/order/home?search=${o}`,"_blank")},z=o=>{o&&window.open(`/supplier/home?search=${o}`,"_blank")};T({open:$,close:g});const A=x;return(o,e)=>{const n=Q,k=R,r=P,b=U,w=J,F=j,I=H;return d(),f(F,{modelValue:v.value,"onUpdate:modelValue":e[3]||(e[3]=m=>v.value=m),title:"余额变动记录详情",width:"800px","close-on-click-modal":!1,onClose:g},{footer:a(()=>[t("div",ke,[s(w,{onClick:g},{default:a(()=>[...e[25]||(e[25]=[u("关闭",-1)])]),_:1}),s(w,{type:"primary",onClick:e[2]||(e[2]=m=>A("refresh"))},{default:a(()=>[...e[26]||(e[26]=[u("刷新数据",-1)])]),_:1})])]),default:a(()=>[q((d(),p("div",W,[t("div",X,[e[8]||(e[8]=t("h3",{class:"section-title"},"基本信息",-1)),s(r,{gutter:20},{default:a(()=>[s(n,{span:12},{default:a(()=>[t("div",Y,[e[4]||(e[4]=t("label",null,"记录ID：",-1)),t("span",null,i(l.value.id),1)])]),_:1}),s(n,{span:12},{default:a(()=>[t("div",Z,[e[5]||(e[5]=t("label",null,"供应商：",-1)),l.value.supplier?(d(),f(k,{key:0,type:"primary",onClick:e[0]||(e[0]=m=>z(l.value.supplier_id))},{default:a(()=>[u(i(l.value.supplier.supplier_name),1)]),_:1})):(d(),p("span",h,i(l.value.supplier_id),1))])]),_:1})]),_:1}),s(r,{gutter:20},{default:a(()=>[s(n,{span:12},{default:a(()=>[t("div",ee,[e[6]||(e[6]=t("label",null,"操作类型：",-1)),s(b,{type:S(l.value.operation_type)},{default:a(()=>[u(i(B(l.value.operation_type)),1)]),_:1},8,["type"])])]),_:1}),s(n,{span:12},{default:a(()=>[t("div",te,[e[7]||(e[7]=t("label",null,"操作时间：",-1)),t("span",null,i(L(l.value.created_at)),1)])]),_:1})]),_:1})]),t("div",le,[e[12]||(e[12]=t("h3",{class:"section-title"},"金额信息",-1)),s(r,{gutter:20},{default:a(()=>[s(n,{span:8},{default:a(()=>[t("div",ae,[e[9]||(e[9]=t("label",null,"变动金额：",-1)),t("span",{class:G(O(l.value.amount))},i(l.value.amount>0?"+":"")+"¥"+i(c(l.value.amount)),3)])]),_:1}),s(n,{span:8},{default:a(()=>[t("div",se,[e[10]||(e[10]=t("label",null,"变动前余额：",-1)),t("span",null,"¥"+i(c(l.value.balance_before)),1)])]),_:1}),s(n,{span:8},{default:a(()=>[t("div",oe,[e[11]||(e[11]=t("label",null,"变动后余额：",-1)),t("span",null,"¥"+i(c(l.value.balance_after)),1)])]),_:1})]),_:1})]),t("div",ne,[e[17]||(e[17]=t("h3",{class:"section-title"},"操作人信息",-1)),s(r,{gutter:20},{default:a(()=>[s(n,{span:12},{default:a(()=>[t("div",ie,[e[13]||(e[13]=t("label",null,"操作人：",-1)),t("span",null,i(l.value.operator_name||"-"),1)])]),_:1}),s(n,{span:12},{default:a(()=>[t("div",de,[e[14]||(e[14]=t("label",null,"操作人类型：",-1)),s(b,{size:"small"},{default:a(()=>[u(i(V(l.value.operator_type)),1)]),_:1})])]),_:1})]),_:1}),s(r,{gutter:20},{default:a(()=>[s(n,{span:12},{default:a(()=>[t("div",ue,[e[15]||(e[15]=t("label",null,"操作IP：",-1)),t("span",null,i(l.value.ip_address||"-"),1)])]),_:1}),s(n,{span:12},{default:a(()=>[t("div",re,[e[16]||(e[16]=t("label",null,"用户代理：",-1)),t("span",null,i(l.value.user_agent||"-"),1)])]),_:1})]),_:1})]),l.value.order_no||l.value.order?(d(),p("div",pe,[e[20]||(e[20]=t("h3",{class:"section-title"},"关联信息",-1)),s(r,{gutter:20},{default:a(()=>[l.value.order_no?(d(),f(n,{key:0,span:12},{default:a(()=>[t("div",_e,[e[18]||(e[18]=t("label",null,"关联订单：",-1)),s(k,{type:"primary",onClick:e[1]||(e[1]=m=>N(l.value.order_no))},{default:a(()=>[u(i(l.value.order_no),1)]),_:1})])]),_:1})):_("",!0),l.value.order?(d(),f(n,{key:1,span:12},{default:a(()=>[t("div",ve,[e[19]||(e[19]=t("label",null,"订单状态：",-1)),s(b,{type:l.value.order.status===3?"success":"info"},{default:a(()=>[u(i(l.value.order.status===3?"支付成功":"其他状态"),1)]),_:1},8,["type"])])]),_:1})):_("",!0)]),_:1})])):_("",!0),l.value.remark?(d(),p("div",me,[e[22]||(e[22]=t("h3",{class:"section-title"},"备注信息",-1)),t("div",fe,[e[21]||(e[21]=t("label",null,"备注：",-1)),t("div",ce,i(l.value.remark),1)])])):_("",!0),l.value.telegram_message?(d(),p("div",ge,[e[24]||(e[24]=t("h3",{class:"section-title"},"Telegram消息",-1)),t("div",be,[e[23]||(e[23]=t("label",null,"原始消息：",-1)),t("div",ye,[t("pre",null,i(l.value.telegram_message),1)])])])):_("",!0)])),[[I,C.value]])]),_:1},8,["modelValue"])}}}),De=K(we,[["__scopeId","data-v-341d0d89"]]);export{De as default};
//# sourceMappingURL=SupplierBalanceLogDetail-6h_Tj6Iw.js.map
