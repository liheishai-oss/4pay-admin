{"version":3,"mappings":";s9BA0MA,MAAMA,EAAWC,EAAqB,IAAAC,EAAA,IAAM,OAAO,oBAAY,mCAAC,EAC1DC,EAAcC,EAAS,IAAI,EAC3BC,EAAe,CAACC,EAAW,KAAO,CAClCH,EAAY,OAAOA,EAAY,MAAM,KAAK,CAAE,GAAGG,EAAK,CAC1D,EAGMC,EAAaN,EAAqB,IAAAC,EAAA,IAAM,OAAO,oBAAY,sCAAC,EAC5DM,EAAgBJ,EAAS,IAAI,EAC7BK,EAAkBH,GAAa,CAC/BE,EAAc,OAAOA,EAAc,MAAM,KAAKF,CAAG,CACvD,EAGMI,EAAqBT,EAAqB,IAAAC,EAAA,IAAM,OAAO,mCAA2B,0CAAC,EACnFS,EAAwBP,EAAS,IAAI,EACrCQ,EAA0BN,GAAa,CACvCK,EAAsB,OAAOA,EAAsB,MAAM,KAAKL,CAAG,CACvE,EAMM,CACJ,sBAAAO,EACA,gBAAAC,EACA,UAAWC,EACX,iBAAkBC,EAClB,SAAAC,EACA,KAAAC,EACA,YAAAC,EACA,iBAAAC,EACA,oBAAAC,EACA,aAAAC,EACA,WAAAC,EACA,aAAAC,CAEF,EAAIC,GAAmB,uBAAuB,EAGxCC,EAAatB,EAAI,CACrB,aAAc,GACd,cAAe,GACf,OAAQ,GACT,EAGKuB,EAAgBvB,EAAI,EAAK,EAGzBwB,EAAe,SAAY,CAC/BD,EAAc,MAAQ,GACtB,GAAI,CAEFL,EAAa,MAAQ,CAAE,GAAGI,EAAW,OACrC,MAAMP,EAAA,CACR,OAASU,EAAO,CACd,QAAQ,MAAM,QAASA,CAAK,EAC5B,UAAU,MAAM,UAAU,CAC5B,SACEF,EAAc,MAAQ,EACxB,CACF,EAGMG,EAAc,IAAM,CACxBJ,EAAW,MAAQ,CACjB,aAAc,GACd,cAAe,GACf,OAAQ,IAEVJ,EAAa,MAAQ,CAAE,GAAGI,EAAW,OACrCP,EAAA,CACF,EAGAY,GAAU,IAAM,CACdd,EAAA,CACF,CAAC,EAGD,MAAMe,EAAe,CAACC,EAAa3B,IAAa,CAC9CiB,EAAWU,EAAK,CAAC3B,EAAI,EAAE,CAAC,CAC1B,EAGM4B,GAAqBD,GAAgB,CACzCV,EAAWU,CAAG,CAChB,0IAjSEE,EAAoDC,EAAApC,CAAA,WAAtC,cAAJ,IAAIG,EAAe,UAASiC,EAAAjB,CAAA,yBAGtCgB,EAAwDC,EAAA7B,CAAA,WAAxC,gBAAJ,IAAIC,EAAiB,UAAS4B,EAAAjB,CAAA,yBAG1CgB,EAAwEC,EAAA1B,CAAA,WAAhD,wBAAJ,IAAIC,EAAyB,UAASyB,EAAAjB,CAAA,yBAG1DgB,EAoEaE,GAAA,CApED,KAAK,QAAM,WACrB,IAkEM,CAlENC,GAAAC,EAkEM,MAlENC,GAkEM,CAjEJL,EAgEUM,GAAA,CAhED,MAAM,cAAc,OAAO,UACvB,SACT,IAQM,CARNF,EAQM,MARNG,GAQM,CAPJH,EAGO,OAHPI,GAGO,CAFLR,EAA6BS,EAAA,gBAApB,IAAU,CAAVT,EAAUC,EAAAS,CAAA,yBAAU,SAE/B,OACAV,EAEYW,EAAA,CAFD,KAAK,OAAQ,QAAOV,EAAApB,CAAA,EAAc,MAAM,wBACjD,IAA4B,CAA5BmB,EAA4BS,EAAA,gBAAnB,IAAS,CAATT,EAASC,EAAAW,EAAA,+CAKxB,IAkDU,CAlDVZ,EAkDUa,GAAA,CAlDA,MAAOtB,EAAA,MAAY,cAAY,QAAQ,MAAM,0BACrD,IAgDS,CAhDTS,EAgDSc,GAAA,CAhDA,OAAQ,IAAE,WACjB,IASS,CATTd,EASSe,EAAA,CATA,KAAM,GAAC,WACd,IAOe,CAPff,EAOegB,EAAA,CAPD,MAAM,QAAM,WACxB,IAKE,CALFhB,EAKEiB,EAAA,CAJS,WAAA1B,EAAA,MAAW,aAAX,sBAAA2B,EAAA,KAAAA,EAAA,GAAAC,GAAA5B,EAAA,MAAW,aAAY4B,GAChC,YAAY,UACZ,aACA,cAAY,iDAIlBnB,EASSe,EAAA,CATA,KAAM,GAAC,WACd,IAOe,CAPff,EAOegB,EAAA,CAPD,MAAM,QAAM,WACxB,IAKE,CALFhB,EAKEiB,EAAA,CAJS,WAAA1B,EAAA,MAAW,cAAX,sBAAA2B,EAAA,KAAAA,EAAA,GAAAC,GAAA5B,EAAA,MAAW,cAAa4B,GACjC,YAAY,UACZ,aACA,cAAY,mDAIlBnB,EAYSe,EAAA,CAZA,KAAM,GAAC,WACd,IAUe,CAVff,EAUegB,EAAA,CAVD,MAAM,MAAI,WACtB,IAQY,CARZhB,EAQYoB,GAAA,CAPD,WAAA7B,EAAA,MAAW,OAAX,sBAAA2B,EAAA,KAAAA,EAAA,GAAAC,GAAA5B,EAAA,MAAW,OAAM4B,GAC1B,YAAY,QACZ,aACA,iCAEA,IAAmC,CAAnCnB,EAAmCqB,EAAA,CAAxB,MAAM,KAAM,MAAO,IAC9BrB,EAAmCqB,EAAA,CAAxB,MAAM,KAAM,MAAO,6CAIpCrB,EAaSe,EAAA,CAbA,KAAM,GAAC,WACd,IAWe,CAXff,EAWegB,EAAA,gBAVb,IASM,CATNZ,EASM,MATNkB,GASM,CARJtB,EAGYW,EAAA,CAHD,KAAK,UAAW,QAAOlB,EAAe,QAASD,EAAA,kBACxD,IAA6B,CAA7BQ,EAA6BS,EAAA,gBAApB,IAAU,CAAVT,EAAUC,EAAAS,CAAA,yBAAU,OAE/B,2BACAV,EAGYW,EAAA,CAHA,QAAOhB,GAAW,WAC5B,IAA8B,CAA9BK,EAA8BS,EAAA,gBAArB,IAAW,CAAXT,EAAWC,EAAAsB,CAAA,yBAAU,OAEhC,8EA3DwBtB,EAAArB,CAAA,CAAU,YAsElDwB,EAYM,MAZNoB,GAYM,CAVJxB,EAAiEW,EAAA,CAArD,KAAMV,EAAAsB,CAAA,EAAU,QAAOtB,EAAAjB,CAAA,EAAa,MAAM,sCACtDgB,EAA2EW,EAAA,CAAhE,KAAK,UAAW,KAAMV,EAAAwB,EAAA,EAAO,QAAOvD,CAAA,aAAc,IAAE,IAAAgD,EAAA,KAAAA,EAAA,MAAF,KAAE,yBAC/DlB,EAAqIW,EAAA,CAA1H,KAAK,SAAU,UAAWV,EAAAtB,CAAA,EAAkB,uBAAOoB,GAAiB,mDAAwC,IAAE,IAAAmB,EAAA,MAAAA,EAAA,OAAF,KAAE,6BAGzHd,EAIM,MAJNsB,GAIM,CAHJ1B,EAEkB2B,GAAA,CAFD,MAAM,QAAM,WAC3B,IAAkD,CAAlD3B,EAAkDW,EAAA,CAAtC,KAAMV,EAAAS,CAAA,EAAS,QAAOT,EAAApB,CAAA,0CAMxCuB,EA+EM,MA/ENwB,GA+EM,CA9EJ5B,EA6EW6B,GAAA,CA5EN,KAAM5B,EAAAlB,CAAA,EAAK,KACZ,UACA,UACA,aAAW,MACX,qBACC,kBAAkBkB,EAAAvB,CAAA,cAErB,IAA8C,CAA9CsB,EAA8C8B,EAAA,CAA7B,KAAK,YAAY,MAAM,OACxC9B,EAAuE8B,EAAA,CAAtD,KAAK,OAAO,MAAM,KAAK,MAAM,SAAS,YAAU,OACjE9B,EAAkF8B,EAAA,CAAjE,KAAK,eAAe,MAAM,OAAO,MAAM,SAAS,YAAU,QAC3E9B,EAAmF8B,EAAA,CAAlE,KAAK,gBAAgB,MAAM,OAAO,MAAM,SAAS,YAAU,QAC5E9B,EASkB8B,EAAA,CATD,MAAM,KAAK,MAAM,SAAS,YAAU,OACxC,QAAOC,EAChB,CAKE,CANkB,IAAA5D,KAAG,CACvB6B,EAKEgC,GAAA,CAJW,WAAA7D,EAAI,OAAJ,sBAAAgD,GAAAhD,EAAI,OAAMgD,EAClB,eAAc,EACd,iBAAgB,EAChB,SAASc,GAAUhC,EAAAZ,CAAA,EAAY,sCAAwClB,EAAI,GAAI,OAAO8D,CAAK,oEAIpGjC,EAEkB8B,EAAA,CAFD,KAAK,kBAAkB,MAAM,OAAO,MAAM,SAAS,YAAU,QACjE,QAAOC,EAAW,CAA4C,CAAnD,IAAA5D,KAAG,CAAQ+D,EAAAC,GAAAhE,EAAI,gBAAe,KAAQ,YAAa,IAAC,WAE5E6B,EAyCkB8B,EAAA,CAzCD,MAAM,QAAQ,MAAM,SAAS,YAAU,QAC3C,QAAOC,EAChB,CAqCM,CAtCc,IAAA5D,KAAG,kBACvBiC,EAqCM,MArCNgC,GAqCM,CApCJhC,EAOM,MAPNiC,GAOM,CANJrC,EAKSsC,GAAA,CAJN,OAAMC,EAAApE,EAAI,YAAJ,YAAAoE,EAAe,aAAW,mBACjC,KAAK,oBAEL,WAAwC,aAArCA,EAAApE,EAAI,YAAJ,YAAAoE,EAAe,UAAO,wCAGlBC,GAAAC,EAAAtE,EAAI,YAAJ,YAAAsE,EAAe,WAAf,YAAAD,EAAyB,QAAM,GAA1CE,IAAAC,EA2BM,MA3BNC,GA2BM,CA1BJ5C,EAyBa6C,GAAA,CAxBX,OAAO,OACP,UAAU,MACT,aAAY,MAEF,UACT,IASM,CATNzC,EASM,MATN0C,GASM,CARJ5B,EAAA,MAAAA,EAAA,IAAAd,EAAuC,OAAlC,MAAM,iBAAgB,SAAM,MACjCsC,EAAA,IAAAC,EAMMI,UALc5E,EAAI,UAAU,SAAzB6E,QADTL,EAMM,OAJH,IAAKK,EAAQ,GACd,MAAM,kBAEHA,EAAQ,YAAY,EAAG,OAAKA,EAAQ,SAAS,EAAG,MACrD,yBAGJ,IAOY,CAPZhD,EAOYW,EAAA,CANV,KAAK,UACL,KAAK,QACL,QACC,QAAKQ,GAAE7C,EAAeH,CAAG,cAC3B,IAED,IAAA+C,EAAA,MAAAA,EAAA,OAFC,SAED,iEAMVlB,EAAgG8B,EAAA,CAA/E,KAAK,SAAS,MAAM,KAAK,MAAM,SAAS,YAAU,MAAM,6BACzE9B,EAAgF8B,EAAA,CAA/D,KAAK,aAAa,MAAM,OAAO,MAAM,SAAS,YAAU,QACzE9B,EAOkB8B,EAAA,CAPD,MAAM,KAAK,MAAM,SAAS,MAAM,QAAQ,YAAU,QACtD,QAAOC,EACuDkB,GADhD,CACvBjD,EAAuEW,EAAA,CAA5D,KAAK,QAAS,QAAKQ,GAAEjD,EAAa+E,EAAM,GAAG,cAAG,IAAE,IAAA/B,EAAA,MAAAA,EAAA,OAAF,KAAE,4BAC3DlB,EAAyFW,EAAA,CAA9E,KAAK,QAAQ,KAAK,UAAW,QAAKQ,GAAE7C,EAAe2E,EAAM,GAAG,cAAG,IAAG,IAAA/B,EAAA,MAAAA,EAAA,OAAH,MAAG,4BAC7ElB,EAAmGW,EAAA,CAAxF,KAAK,QAAQ,KAAK,UAAW,QAAKQ,GAAE1C,EAAuBwE,EAAM,GAAG,cAAG,IAAK,IAAA/B,EAAA,MAAAA,EAAA,OAAL,QAAK,4BACvFlB,EAAqHW,EAAA,CAA1G,KAAK,QAAQ,KAAK,SAAU,QAAKQ,GAAEtB,EAAY,+BAAiCoD,EAAM,GAAG,cAAG,IAAE,IAAA/B,EAAA,MAAAA,EAAA,OAAF,KAAE,6EAOjHd,EAeM,MAfN8C,GAeM,CAdJ9C,EAaM,MAbN+C,GAaM,CAZJnD,EAWEoD,GAAA,CAVU,eAAcnD,EAAAlB,CAAA,EAAK,aAAL,uBAAAmC,EAAA,KAAAA,EAAA,GAAAC,GAAAlB,EAAAlB,CAAA,EAAK,aAAYoC,GAC/B,YAAWlB,EAAAlB,CAAA,EAAK,UAAL,oBAAAmC,EAAA,KAAAA,EAAA,GAAAC,GAAAlB,EAAAlB,CAAA,EAAK,UAASoC,GAChC,aAAY,gBACZ,WAAY,GACb,YAAU,MACV,YAAU,MACV,OAAO,0CACN,MAAOlB,EAAAlB,CAAA,EAAK,WACZ,aAAakB,EAAAhB,CAAA,EACb,gBAAgBgB,EAAAf,CAAA","names":["EditForm","defineAsyncComponent","__vitePreload","editFormRef","ref","openEditFrom","row","PoolDialog","poolDialogRef","openPoolDialog","MerchantAssignment","merchantAssignmentRef","openMerchantAssignment","handleSelectionChange","hasSelectedRows","showSearch","toggleSearch","loadData","data","refreshData","handleSizeChange","handleCurrentChange","searchParams","deleteRows","toggleSwitch","useTableDataPlugin","searchForm","searchLoading","handleSearch","error","handleReset","onMounted","handleDelete","api","handleBatchDelete","_createVNode","_unref","_Transition","_withDirectives","_createElementVNode","_hoisted_1","_component_el_card","_hoisted_2","_hoisted_3","_component_el_icon","Search","_component_el_button","Close","_component_el_form","_component_el_row","_component_el_col","_component_el_form_item","_component_el_input","_cache","$event","_component_el_select","_component_el_option","_hoisted_4","Refresh","_hoisted_5","Plus","_hoisted_6","_component_el_button_group","_hoisted_7","_component_el_table","_component_el_table_column","_withCtx","_component_el_switch","value","_createTextVNode","_toDisplayString","_hoisted_8","_hoisted_9","_component_el_tag","_a","_c","_b","_openBlock","_createElementBlock","_hoisted_10","_component_el_tooltip","_hoisted_11","_Fragment","channel","scope","_hoisted_12","_hoisted_13","_component_el_pagination"],"ignoreList":[],"sources":["../../src/pages/product/home.vue"],"sourcesContent":["<template>\n  <!-- 添加主体对话框 -->\n  <EditForm ref=\"editFormRef\" @refresh=\"refreshData\"/>\n  \n  <!-- 轮询池管理对话框 -->\n  <PoolDialog ref=\"poolDialogRef\" @refresh=\"refreshData\"/>\n  \n  <!-- 分配给商户对话框 -->\n  <MerchantAssignment ref=\"merchantAssignmentRef\" @refresh=\"refreshData\"/>\n  \n  <!-- 搜索菜单部分的过渡效果 -->\n  <transition name=\"fade\">\n    <div class=\"table-com-search\" v-show=\"showSearch\">\n      <el-card class=\"search-card\" shadow=\"never\">\n        <template #header>\n          <div class=\"search-header\">\n            <span class=\"search-title\">\n              <el-icon><Search /></el-icon>\n              产品搜索\n            </span>\n            <el-button type=\"text\" @click=\"toggleSearch\" class=\"close-btn\">\n              <el-icon><Close /></el-icon>\n            </el-button>\n          </div>\n        </template>\n        \n        <el-form :model=\"searchForm\" label-width=\"100px\" class=\"search-form\">\n          <el-row :gutter=\"20\">\n            <el-col :span=\"6\">\n              <el-form-item label=\"产品名称\">\n                <el-input \n                  v-model=\"searchForm.product_name\" \n                  placeholder=\"请输入产品名称\" \n                  clearable \n                  prefix-icon=\"Search\"\n                />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"6\">\n              <el-form-item label=\"对接编号\">\n                <el-input \n                  v-model=\"searchForm.external_code\" \n                  placeholder=\"请输入对接编号\" \n                  clearable \n                  prefix-icon=\"Document\"\n                />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"6\">\n              <el-form-item label=\"状态\">\n                <el-select \n                  v-model=\"searchForm.status\" \n                  placeholder=\"请选择状态\" \n                  clearable\n                  style=\"width: 100%\"\n                >\n                  <el-option label=\"启用\" :value=\"1\" />\n                  <el-option label=\"禁用\" :value=\"0\" />\n                </el-select>\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"6\">\n              <el-form-item>\n                <div class=\"search-buttons\">\n                  <el-button type=\"primary\" @click=\"handleSearch\" :loading=\"searchLoading\">\n                    <el-icon><Search /></el-icon>\n                    搜索\n                  </el-button>\n                  <el-button @click=\"handleReset\">\n                    <el-icon><Refresh /></el-icon>\n                    重置\n                  </el-button>\n                </div>\n              </el-form-item>\n            </el-col>\n          </el-row>\n        </el-form>\n      </el-card>\n    </div>\n  </transition>\n\n  <!-- 表头 -->\n  <div class=\"table-header ba-scroll-style\">\n    <!-- 刷新、添加、编辑、删除和导入导出按钮 -->\n    <el-button :icon=\"Refresh\" @click=\"refreshData\" color=\"#40485b\"/>\n    <el-button type=\"primary\" :icon=\"Plus\" @click=\"openEditFrom\">添加</el-button>\n    <el-button type=\"danger\" :disabled=\"!hasSelectedRows\" @click=\"handleBatchDelete('/api/v1/admin/product/batch-delete')\">删除</el-button>\n    \n    <!-- 搜索按钮 -->\n    <div class=\"table-search\">\n      <el-button-group class=\"ml-4\">\n        <el-button :icon=\"Search\" @click=\"toggleSearch\" />\n      </el-button-group>\n    </div>\n  </div>\n\n  <!-- 表格内容 -->\n  <div style=\"width: 100%; overflow-x: auto;\" class=\"table-content\">\n    <el-table\n        :data=\"data.data\"\n        border\n        stripe\n        max-height=\"600\"\n        style=\"width: 100%;\"\n        @selection-change=\"handleSelectionChange\"\n    >\n      <el-table-column type=\"selection\" width=\"40\"/>\n      <el-table-column prop=\"sort\" label=\"排序\" align=\"center\" min-width=\"80\"/>\n      <el-table-column prop=\"product_name\" label=\"产品名称\" align=\"center\" min-width=\"150\"/>\n      <el-table-column prop=\"external_code\" label=\"对接编号\" align=\"center\" min-width=\"120\"/>\n      <el-table-column label=\"状态\" align=\"center\" min-width=\"90\">\n        <template #default=\"{ row }\">\n          <el-switch\n              v-model=\"row.status\"\n              :active-value=\"1\"\n              :inactive-value=\"0\"\n              @change=\"(value) => toggleSwitch('/api/v1/admin/product/status-switch', row.id, Number(value))\"\n          />\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"default_rate_bp\" label=\"默认费率\" align=\"center\" min-width=\"100\">\n        <template #default=\"{ row }\">{{ (row.default_rate_bp / 100).toFixed(2) }}%</template>\n      </el-table-column>\n      <el-table-column label=\"轮询池状态\" align=\"center\" min-width=\"200\">\n        <template #default=\"{ row }\">\n          <div class=\"pool-status\">\n            <div class=\"pool-summary\">\n              <el-tag \n                :type=\"row.pool_info?.total_count > 0 ? 'success' : 'info'\" \n                size=\"small\"\n              >\n                {{ row.pool_info?.summary || '加载中...' }}\n              </el-tag>\n            </div>\n            <div v-if=\"row.pool_info?.channels?.length > 0\" class=\"pool-channels\">\n              <el-tooltip \n                effect=\"dark\" \n                placement=\"top\"\n                :show-after=\"300\"\n              >\n                <template #content>\n                  <div class=\"pool-tooltip\">\n                    <div class=\"tooltip-title\">轮询池通道：</div>\n                    <div \n                      v-for=\"channel in row.pool_info.channels\" \n                      :key=\"channel.id\"\n                      class=\"tooltip-item\"\n                    >\n                      {{ channel.display_name }} ({{ channel.cost_rate }}%)\n                    </div>\n                  </div>\n                </template>\n                <el-button \n                  type=\"primary\" \n                  size=\"small\" \n                  text\n                  @click=\"openPoolDialog(row)\"\n                >\n                  查看详情\n                </el-button>\n              </el-tooltip>\n            </div>\n          </div>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"remark\" label=\"备注\" align=\"center\" min-width=\"150\" show-overflow-tooltip/>\n      <el-table-column prop=\"created_at\" label=\"创建时间\" align=\"center\" min-width=\"150\"/>\n      <el-table-column label=\"操作\" align=\"center\" fixed=\"right\" min-width=\"360\">\n        <template #default=\"scope\">\n          <el-button size=\"small\" @click=\"openEditFrom(scope.row)\">编辑</el-button>\n          <el-button size=\"small\" type=\"success\" @click=\"openPoolDialog(scope.row)\">轮询池</el-button>\n          <el-button size=\"small\" type=\"warning\" @click=\"openMerchantAssignment(scope.row)\">分配给商户</el-button>\n          <el-button size=\"small\" type=\"danger\" @click=\"handleDelete('/api/v1/admin/product/delete', scope.row)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n\n  <!-- 表格分页 -->\n  <div class=\"table-footer\">\n    <div class=\"table-pagination\">\n      <el-pagination\n          v-model:current-page=\"data.current_page\"\n          v-model:page-size=\"data.page_size\"\n          :page-sizes=\"[10, 50, 100, 200]\"\n          :background=\"true\"\n          prev-text=\"上一页\"\n          next-text=\"下一页\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"data.page_total\"\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n      />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { Plus, Refresh, Search, Close, Document } from '@element-plus/icons-vue';\nimport { ref, onMounted, defineAsyncComponent } from 'vue';\n\n// 导入编辑弹窗\nconst EditForm = defineAsyncComponent(() => import('./edit.vue'));\nconst editFormRef = ref<any>(null);\nconst openEditFrom = (row: any = {}) => {\n  if (editFormRef.value) editFormRef.value.open({ ...row });\n};\n\n// 导入轮询池管理弹窗\nconst PoolDialog = defineAsyncComponent(() => import('./pool.vue'));\nconst poolDialogRef = ref<any>(null);\nconst openPoolDialog = (row: any) => {\n  if (poolDialogRef.value) poolDialogRef.value.open(row);\n};\n\n// 导入分配给商户弹窗\nconst MerchantAssignment = defineAsyncComponent(() => import('./merchant-assignment.vue'));\nconst merchantAssignmentRef = ref<any>(null);\nconst openMerchantAssignment = (row: any) => {\n  if (merchantAssignmentRef.value) merchantAssignmentRef.value.open(row);\n};\n\n// 引入自定义插件和 API\nimport { useTableDataPlugin } from \"@/utils/plugins/table.plugin.ts\";\n\n// 使用表格插件来管理表格的状态、数据等\nconst {\n  handleSelectionChange,\n  hasSelectedRows,\n  isVisible: showSearch,\n  toggleVisibility: toggleSearch,\n  loadData,\n  data,\n  refreshData,\n  handleSizeChange,\n  handleCurrentChange,\n  searchParams,\n  deleteRows,\n  toggleSwitch,\n  resetSearchParams\n} = useTableDataPlugin(\"/api/v1/admin/product\");\n\n// 搜索表单数据\nconst searchForm = ref({\n  product_name: '',\n  external_code: '',\n  status: ''\n});\n\n// 搜索加载状态\nconst searchLoading = ref(false);\n\n// 处理搜索\nconst handleSearch = async () => {\n  searchLoading.value = true;\n  try {\n    // 将搜索表单数据同步到searchParams\n    searchParams.value = { ...searchForm.value };\n    await refreshData();\n  } catch (error) {\n    console.error('搜索失败:', error);\n    ElMessage.error('搜索失败，请重试');\n  } finally {\n    searchLoading.value = false;\n  }\n};\n\n// 处理重置\nconst handleReset = () => {\n  searchForm.value = {\n    product_name: '',\n    external_code: '',\n    status: ''\n  };\n  searchParams.value = { ...searchForm.value };\n  refreshData();\n};\n\n// 在组件挂载时加载数据\nonMounted(() => {\n  loadData();\n});\n\n// 删除方法：单条删除\nconst handleDelete = (api: string, row: any) => {\n  deleteRows(api, [row.id]);\n};\n\n// 批量删除\nconst handleBatchDelete = (api: string) => {\n  deleteRows(api);\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.table-header {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.table-search {\n  margin-left: auto;\n}\n\n/* 轮询池状态样式 */\n.pool-status {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 8px;\n}\n\n.pool-summary {\n  display: flex;\n  justify-content: center;\n}\n\n.pool-channels {\n  display: flex;\n  justify-content: center;\n}\n\n/* 轮询池提示框样式 */\n.pool-tooltip {\n  max-width: 300px;\n}\n\n.tooltip-title {\n  font-weight: bold;\n  margin-bottom: 8px;\n  color: #fff;\n}\n\n.tooltip-item {\n  margin-bottom: 4px;\n  padding: 2px 0;\n  color: #e6e6e6;\n  font-size: 12px;\n  line-height: 1.4;\n}\n\n.tooltip-item:last-child {\n  margin-bottom: 0;\n}\n\n/* 搜索卡片样式 */\n.search-card {\n  margin-bottom: 20px;\n  border: 1px solid #e4e7ed;\n  border-radius: 8px;\n}\n\n.search-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.search-title {\n  display: flex;\n  align-items: center;\n  font-weight: 600;\n  color: #303133;\n}\n\n.search-title .el-icon {\n  margin-right: 8px;\n  color: #409eff;\n}\n\n.close-btn {\n  padding: 0;\n  color: #909399;\n}\n\n.close-btn:hover {\n  color: #f56c6c;\n}\n\n.search-form {\n  padding: 0;\n}\n\n.search-buttons {\n  display: flex;\n  gap: 8px;\n}\n\n.search-buttons .el-button {\n  min-width: 80px;\n}\n\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.3s ease;\n}\n\n.fade-enter-from,\n.fade-leave-to {\n  opacity: 0;\n}\n\n.table-com-search {\n  background: #fafafa;\n  padding: 20px;\n  border-radius: 8px;\n  margin-bottom: 20px;\n}\n</style>"],"file":"assets/home-C3VYVmIA.js"}