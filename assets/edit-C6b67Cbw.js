import{d as h,h as i,ah as k,M as C,w as o,b3 as D,x as r,N,o as U,a as t,u as B,i as F,D as I,l as S,L as M,S as R,j,v as f,b4 as q}from"./index-Gdxi0XPM.js";/* empty css              *//* empty css                     */import"./form-item-l0sNRNKZ.js";const H=h({__name:"edit",emits:["refresh"],setup(L,{expose:v,emit:_}){const u=i(!1),d=i(),l=i({id:0,name:"",weight:0}),c=i({name:[{required:!0,message:"请输入名称"}]}),w=_,g=async a=>{if(console.log("详情",a),u.value=!0,a.id&&a.id!==0){const e=await D("/api/v1/admin/product_type/detail",a.id);e.status&&e.data?l.value={...e.data}:r.error(e.message||"获取数据失败")}else m(),l.value.id=0},V=async()=>{var e;await((e=d.value)==null?void 0:e.validate());const a=await q("/api/v1/admin/product_type/save",l.value);a.status?(r.success(a.message),w("refresh"),u.value=!1):r.error(a.message||"保存失败")},m=()=>{l.value={id:0,name:"",weight:0}};return k(u,a=>{a||m()}),v({open:g}),(a,e)=>{const b=S,n=I,E=M,x=R,p=j,y=N;return U(),C(y,{modelValue:u.value,"onUpdate:modelValue":e[3]||(e[3]=s=>u.value=s),title:"添加/编辑产品类型",width:"40%"},{default:o(()=>[t(B(F),{model:l.value,"label-width":"100px",rules:c.value,ref_key:"formRef",ref:d},{default:o(()=>[t(n,{label:"类型名称",prop:"name"},{default:o(()=>[t(b,{modelValue:l.value.name,"onUpdate:modelValue":e[0]||(e[0]=s=>l.value.name=s),placeholder:"请输入类型名称"},null,8,["modelValue"])]),_:1}),t(n,{label:"是否启用",prop:"status"},{default:o(()=>[t(E,{modelValue:l.value.status,"onUpdate:modelValue":e[1]||(e[1]=s=>l.value.status=s),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1}),t(n,{label:"权重",prop:"weight"},{default:o(()=>[t(x,{modelValue:l.value.weight,"onUpdate:modelValue":e[2]||(e[2]=s=>l.value.weight=s),min:0},null,8,["modelValue"])]),_:1}),t(n,null,{default:o(()=>[t(p,{type:"primary",onClick:V},{default:o(()=>[...e[4]||(e[4]=[f("提交",-1)])]),_:1}),t(p,{onClick:m},{default:o(()=>[...e[5]||(e[5]=[f("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])}}});export{H as default};
//# sourceMappingURL=edit-C6b67Cbw.js.map
